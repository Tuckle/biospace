(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{136:function(e,t,a){e.exports=a(227)},141:function(e,t,a){},142:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},143:function(e,t,a){},227:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(14),c=a.n(o),i=(a(141),a(16)),l=a(35),s=a(15);a(142),a(143);var m=function(e){return localStorage.getItem("loggedIn")?n.a.createElement(s.b,{render:function(e){return n.a.createElement(s.a,{to:{pathname:"/home",state:{from:e.location}}})}}):n.a.createElement("div",{className:"Home"},n.a.createElement("p",null,"Welcome to BioSpace!"))},u=function(e){return"/"+e};var h=a(263),g=a(266),d=a(228),p=a(279),f=a(267);var v={list:{display:"flex",flexDirection:"row",padding:0,marginTop:30,marginLeft:5,marginRight:5}},E=function(){var e=Object(r.useState)([]),t=Object(i.a)(e,2),a=t[0],o=t[1],c=Object(r.useState)([]),l=Object(i.a)(c,2),m=l[0],E=l[1];function y(e,t){!function(e,t,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"post";fetch(u(e),{method:n,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){r&&r(e)}))}("get_spaces",{by:e},(function(e){e=Object.keys(e).map((function(t){return e[t]})),t(e)}))}function _(e,t,a){return e.length?n.a.createElement("div",null,n.a.createElement(h.a,null,t),n.a.createElement(g.a,{style:v.list},e.sort((function(e,t){return e[a]<t[a]?1:-1})).map((function(e,t){return n.a.createElement(d.a,null,n.a.createElement(p.a,{width:200,style:{textAlign:"center"},border:1},n.a.createElement(h.a,null,e.id," - id"),n.a.createElement(h.a,null,e.keys," - keywords"),n.a.createElement(h.a,null,e[a]," - ",a),n.a.createElement(s.b,{render:function(t){var a=t.history;return n.a.createElement(f.a,{onClick:function(){a.push("/s/"+e.id)}},"Open")}})))})))):null}return Object(r.useEffect)((function(){y("popularity",E),y("accessed",o)}),[]),n.a.createElement("div",{className:"Home"},_(m,"Popular","popularity"),_(a,"Recent","accessed"))},y=a(268),_=a(281),b=a(283),k=a(280),S=a(278),w=a(107),j=a.n(w),O=a(108),C=a.n(O),I=n.a.createElement(j.a,{fontSize:"small"}),z=n.a.createElement(C.a,{fontSize:"small"}),T=Object(y.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var N=function(e){var t=e.closed,a=void 0===t||t,o=T(),c=n.a.useState(!a),l=Object(i.a)(c,2),m=l[0],h=l[1],g=n.a.useState([]),d=Object(i.a)(g,2),p=d[0],v=d[1],E=n.a.useState([]),y=Object(i.a)(E,2),w=y[0],j=y[1];Object(r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("keywordsList")||"[]");e.length||(e=fetch(u("graph/keywords")).then((function(e){return e.json()})).then((function(t){localStorage.setItem("keywordsDict",JSON.stringify(t.info));var a=Array();for(var r in t.info)a.push({key:r,count:t.info[r]});e=a,localStorage.setItem("keywordsList",JSON.stringify(a))})).catch(console.log)),e=(e=e.sort((function(e,t){return e.count<t.count?1:-1}))).slice(0,1e3),j(e)}),[]);var O=n.a.createElement("div",{className:o.paper},n.a.createElement("p",{id:"simple-modal-description"},"Pick keywords"),n.a.createElement(S.a,{multiple:!0,id:"keywords-select",options:w,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.key},renderOption:function(e,t){var a=t.selected;return n.a.createElement(n.a.Fragment,null,n.a.createElement(b.a,{icon:I,checkedIcon:z,style:{marginRight:8},checked:a}),e.key)},style:{width:500},renderInput:function(e){return n.a.createElement(k.a,Object.assign({},e,{variant:"outlined",label:"Keywords",placeholder:"Bio"}))},onChange:function(e,t){v(t.map((function(e){return e.key})).sort())}}),n.a.createElement(s.b,{render:function(e){var t=e.history;return n.a.createElement(f.a,{onClick:function(){var e=p.join(",");!function(e){var t=e.history,a=e.searchString;fetch(u("space"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({keys:a})}).then((function(e){return e.json()})).then((function(e){e.id&&t.push("/s/"+e.id)}))}({history:t,searchString:e})}},"Search")}}));return n.a.createElement("div",null,n.a.createElement(f.a,{onClick:function(){h(!0)}},"Search"),n.a.createElement(_.a,{open:m,onClose:function(){h(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:o.modal},O))},A=a(272),M=a(273),x=a(284),H=a(271),R=Object(y.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var B=function(e){var t=e.closed,a=void 0===t||t,r=localStorage.getItem("loggedIn"),o=R(),c=n.a.useState(!a),l=Object(i.a)(c,2),m=l[0],h=l[1],g=n.a.useState(!0),d=Object(i.a)(g,2),p=d[0],v=d[1],E=n.a.useState(""),y=Object(i.a)(E,2),b=y[0],k=y[1],S=n.a.useState(""),w=Object(i.a)(S,2),j=w[0],O=w[1],C=n.a.useState(""),I=Object(i.a)(C,2),z=I[0],T=I[1],N=n.a.createElement("div",{className:o.paper},n.a.createElement(A.a,null,n.a.createElement(M.a,null,"Are you sure you want to logout?"),n.a.createElement(s.b,{render:function(e){var t=e.history;return n.a.createElement(f.a,{onClick:function(){localStorage.removeItem("loggedIn"),h(!1),t.push("/")}},"Yes")}}))),B=n.a.createElement("div",{className:o.paper},n.a.createElement(A.a,null,n.a.createElement(A.a,null,n.a.createElement(x.a,{htmlFor:"email"},"Email address"),n.a.createElement(H.a,{id:"email",type:"email","aria-describedby":"Enter institution email address",onChange:function(e){k(e.target.value)}})),n.a.createElement(A.a,null,n.a.createElement(x.a,{htmlFor:"pass"},"Password"),n.a.createElement(H.a,{id:"pass",type:"password","aria-describedby":"Enter password",onChange:function(e){O(e.target.value)}})),p?null:n.a.createElement(A.a,null,n.a.createElement(x.a,{htmlFor:"name"},"Full name"),n.a.createElement(H.a,{id:"name","aria-describedby":"Enter full name",onChange:function(e){T(e.target.value)}})),n.a.createElement(A.a,null,n.a.createElement(M.a,{onClick:function(){v(!p)}},p?"Don't have an account? Click here to register..":"I have an account, click here to login..")),n.a.createElement(A.a,null,n.a.createElement(f.a,{onClick:p?function(){fetch(u("users/login"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:b,password:j})}).then((function(e){return e.json()})).then((function(e){e.email===b&&(localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("loggedIn","true"),h(!1))}))}:function(){fetch(u("users/register"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:b,password:j,name:z})}).then((function(e){return e.json()})).then((function(e){e.email===b&&(localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("loggedIn","true"),h(!1))}))}},p?"Login":"Register"))));return n.a.createElement("div",null,n.a.createElement("text",{onClick:function(){h(!0)}},r?"Logout":"Login"),n.a.createElement(_.a,{open:m,onClose:function(){h(!1)},"aria-labelledby":"login-modal-title","aria-describedby":"login-modal-description",className:o.modal},r?N:B))},D=a(120),J={links:[{source:"Marvel",target:"Heroes"},{source:"Marvel",target:"Villains"},{source:"Marvel",target:"Teams"},{source:"Heroes",target:"Spider-Man"},{source:"Heroes",target:"CAPTAIN MARVEL"},{source:"Heroes",target:"HULK"},{source:"Heroes",target:"Black Widow"},{source:"Heroes",target:"Daredevil"},{source:"Heroes",target:"Wolverine"},{source:"Heroes",target:"Captain America"},{source:"Heroes",target:"Iron Man"},{source:"Heroes",target:"THOR"},{source:"Villains",target:"Dr. Doom"},{source:"Villains",target:"Mystique"},{source:"Villains",target:"Red Skull"},{source:"Villains",target:"Ronan"},{source:"Villains",target:"Magneto"},{source:"Villains",target:"Thanos"},{source:"Villains",target:"Black Cat"},{source:"Teams",target:"Avengers"},{source:"Teams",target:"Guardians of the Galaxy"},{source:"Teams",target:"Defenders"},{source:"Teams",target:"X-Men"},{source:"Teams",target:"Fantastic Four"},{source:"Teams",target:"Inhumans"}],nodes:[{id:"Marvel",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/marvel.png",size:500,fontSize:18},{id:"Heroes",symbolType:"circle",color:"red",size:300},{id:"Villains",symbolType:"circle",color:"red",size:300},{id:"Teams",symbolType:"circle",color:"red",size:300},{id:"Spider-Man",name:"Peter Benjamin Parker",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_spiderman.png",size:400},{id:"CAPTAIN MARVEL",name:"Carol Danvers",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainmarvel.png",size:400},{id:"HULK",name:"Robert Bruce Banner",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_hulk.png",size:400},{id:"Black Widow",name:"Natasha Alianovna Romanova",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_blackwidow.png",size:400},{id:"Daredevil",name:"Matthew Michael Murdock",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_daredevil.png",size:400},{id:"Wolverine",name:"James Howlett",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_wolverine.png",size:400},{id:"Captain America",name:"Steven Rogers",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainamerica.png",size:400},{id:"Iron Man",name:"Tony Stark",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_ironman.png",size:400},{id:"THOR",name:"Thor Odinson",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_thor.png",size:400},{id:"Dr. Doom",name:"Victor von Doom",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/drdoom.png",size:400},{id:"Mystique",name:"Unrevealed",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/mystique.png",size:400},{id:"Red Skull",name:"Johann Shmidt",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/redskull.png",size:400},{id:"Ronan",name:"Ronan",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/ronan.png",size:400},{id:"Magneto",name:"Max Eisenhardt",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/magneto.png",size:400},{id:"Thanos",name:"Thanos",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/thanos.png",size:400},{id:"Black Cat",name:"Felicia Hardy",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/blackcat.png",size:400},{id:"Avengers",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/avengers.png",size:400},{id:"Guardians of the Galaxy",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/gofgalaxy.png",size:400},{id:"Defenders",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/defenders.png",size:400},{id:"X-Men",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/xmen.png",size:400},{id:"Fantastic Four",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/fantasticfour.png",size:400},{id:"Inhumans",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/inhumans.png",size:400}]},V=a(118),L=a.n(V);var F=function(e){var t=decodeURI(window.location.href).split("/s/")[1],a=Object(r.useState)(J),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(r.useState)(window.innerWidth/3*2-10),m=Object(i.a)(s,2),h=m[0];return m[1],Object(r.useEffect)((function(){fetch(u("space"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:t})}).then((function(e){return e.json()})).then((function(e){var t=e.keys;e.id&&fetch(u("graph/sub?keys=")+t).then((function(e){return e.json()})).then((function(e){e=e.info;var t=Array();for(var a in e.nodes){var r=e.nodes[a];r.name=r.id,t.push(r)}var n=Array();for(var o in e.relationships)for(var c in e.relationships[o])n.push({source:c,target:o,type:e.relationships[o][c]});l({links:n,nodes:t})})).catch(console.log)}))}),[]),n.a.createElement("div",{style:{display:"flex"}},n.a.createElement(D.a,{graphData:c,linkWidth:2,width:h}),n.a.createElement(L.a,{server:"717755444646379600",channel:"717835175635058816",shard:"https://e.widgetbot.io",width:window.innerWidth-h}))},W=a(275),P=a(276),G=a(270),U=a(121),q=a(277),K=a(119),X=a.n(K);var Y=Object(y.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1}}})),$=function(){var e=Y(),t=n.a.useState(null),a=Object(i.a)(t,2),r=a[0],o=a[1],c=function(){o(null)};return n.a.createElement(l.a,null,n.a.createElement("div",{className:"App"},n.a.createElement(W.a,{position:"static"},n.a.createElement(P.a,null,n.a.createElement(G.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},n.a.createElement(X.a,null)),n.a.createElement(U.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:c},n.a.createElement(q.a,{onClick:c},n.a.createElement(l.b,{to:"/"},"Root")),n.a.createElement(q.a,{onClick:c},n.a.createElement(l.b,{to:"/home"},"Home")),n.a.createElement(q.a,{onClick:c},n.a.createElement(B,null))),n.a.createElement(h.a,{variant:"h6",className:e.title},"BioSpace"),n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/home"},n.a.createElement(N,null))))),n.a.createElement(s.d,null,n.a.createElement(s.b,{path:"/home"},n.a.createElement(E,null)),n.a.createElement(s.b,{path:"/s"},n.a.createElement(F,null)),n.a.createElement(s.b,{path:"/"},n.a.createElement(m,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[136,1,2]]]);
//# sourceMappingURL=main.aafa0265.chunk.js.map