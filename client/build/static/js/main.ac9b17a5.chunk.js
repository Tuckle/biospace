(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{451:function(e,t,a){e.exports=a(821)},456:function(e,t,a){},457:function(e,t,a){},821:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(21),c=a.n(l),i=(a(456),a(29)),o=a(77);a(457);var s=function(e){return localStorage.getItem("loggedIn")?r.a.createElement(i.b,{render:function(e){return r.a.createElement(i.a,{to:{pathname:"/home",state:{from:e.location}}})}}):r.a.createElement("div",{className:"Home"},r.a.createElement("p",null,"Welcome to BioSpace!"))},u=a(7),m=a(462),d=a(464)(m,{retries:5,retryDelay:1e3}),p=function(e){return"/"+e};function f(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"post";"get"!==r?d(p(e),{method:r,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n&&n(e)})):d(p(e)).then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){n&&n(e)}))}var h=a(131),g=a(863),b=a(864),E=a(865),v=a(825),y=a(198),j=a.n(y);var O={list:{flexWrap:"nowrap",transform:"translateZ(0)"},listItem:{margin:5,maxWidth:200},rootList:{display:"flex",flexWrap:"wrap",justifyContent:"space-around"}},k=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),o=Object(u.a)(c,2),s=o[0],m=o[1];function d(e,t){f("get_spaces",{by:e},(function(e){e=Object.keys(e).map((function(t){return e[t]})),t(e)}))}function p(e,t,a){return e.length?r.a.createElement("div",{style:{margin:10}},r.a.createElement(h.a,null,t),r.a.createElement("div",{style:O.rootList},r.a.createElement(g.a,{style:O.list},e.sort((function(e,t){return e[a]<t[a]?1:-1})).map((function(e,t){return r.a.createElement(b.a,{style:O.listItem},r.a.createElement("img",{src:"https://i.pinimg.com/originals/d9/f7/05/d9f70593f3d861704c83c34faff90705.png"}),r.a.createElement(E.a,{title:e.id,actionIcon:r.a.createElement(v.a,null,r.a.createElement(i.b,{render:function(t){var a=t.history;return r.a.createElement(j.a,{onClick:function(){a.push("/s/"+e.id)}},"Open")}}))}))}))))):null}return Object(n.useEffect)((function(){d("popularity",m),d("accessed",l)}),[]),r.a.createElement("div",{className:"Home"},p(s,"Popular","popularity"),p(a,"Recent","accessed"))},w=a(866),C=a(833),S=a(893),x=a(867),I=a(869),_=a(891),T=a(370),D=a.n(T),N=a(371),M=a.n(N),F=a(97),R=a.n(F),P=r.a.createElement(D.a,{fontSize:"small"}),H=r.a.createElement(M.a,{fontSize:"small"}),W=Object(w.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var z=function(e){var t=e.closed,a=void 0===t||t,l=W(),c=r.a.useState(!a),o=Object(u.a)(c,2),s=o[0],m=o[1],d=r.a.useState([]),f=Object(u.a)(d,2),h=f[0],g=f[1],b=r.a.useState([]),E=Object(u.a)(b,2),y=E[0],j=E[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("keywordsList")||"[]");e.length||(e=fetch(p("graph/keywords")).then((function(e){return e.json()})).then((function(t){localStorage.setItem("keywordsDict",JSON.stringify(t.info));var a=Array();for(var n in t.info)a.push({key:n,count:t.info[n]});e=a,localStorage.setItem("keywordsList",JSON.stringify(a))})).catch(console.log)),e=(e=e.sort((function(e,t){return e.count<t.count?1:-1}))).slice(0,1e3),j(e)}),[]);var O=r.a.createElement("div",{className:l.paper},r.a.createElement("p",{id:"simple-modal-description"},"Pick keywords"),r.a.createElement(_.a,{multiple:!0,id:"keywords-select",options:y,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.key},renderOption:function(e,t){var a=t.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(S.a,{icon:P,checkedIcon:H,style:{marginRight:8},checked:a}),e.key)},style:{width:500},renderInput:function(e){return r.a.createElement(x.a,Object.assign({},e,{variant:"outlined",label:"Keywords",placeholder:"Bio"}))},onChange:function(e,t){g(t.map((function(e){return e.key})).sort())}}),r.a.createElement(i.b,{render:function(e){var t=e.history;return r.a.createElement(I.a,{onClick:function(){var e=h.join(",");!function(e){var t=e.history,a=e.searchString;fetch(p("space"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({keys:a})}).then((function(e){return e.json()})).then((function(e){e.id&&t.push("/s/"+e.id)}))}({history:t,searchString:e})}},"Search")}}));return r.a.createElement("div",null,r.a.createElement(v.a,{"aria-label":"account of current user","aria-haspopup":"true",onClick:function(){m(!0)},color:"inherit"},r.a.createElement(R.a,null)),r.a.createElement(C.a,{open:s,onClose:function(){m(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:l.modal},O))},A=a(401),B={links:[{source:"Marvel",target:"Heroes"},{source:"Marvel",target:"Villains"},{source:"Marvel",target:"Teams"},{source:"Heroes",target:"Spider-Man"},{source:"Heroes",target:"CAPTAIN MARVEL"},{source:"Heroes",target:"HULK"},{source:"Heroes",target:"Black Widow"},{source:"Heroes",target:"Daredevil"},{source:"Heroes",target:"Wolverine"},{source:"Heroes",target:"Captain America"},{source:"Heroes",target:"Iron Man"},{source:"Heroes",target:"THOR"},{source:"Villains",target:"Dr. Doom"},{source:"Villains",target:"Mystique"},{source:"Villains",target:"Red Skull"},{source:"Villains",target:"Ronan"},{source:"Villains",target:"Magneto"},{source:"Villains",target:"Thanos"},{source:"Villains",target:"Black Cat"},{source:"Teams",target:"Avengers"},{source:"Teams",target:"Guardians of the Galaxy"},{source:"Teams",target:"Defenders"},{source:"Teams",target:"X-Men"},{source:"Teams",target:"Fantastic Four"},{source:"Teams",target:"Inhumans"}],nodes:[{id:"Marvel",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/marvel.png",size:500,fontSize:18},{id:"Heroes",symbolType:"circle",color:"red",size:300},{id:"Villains",symbolType:"circle",color:"red",size:300},{id:"Teams",symbolType:"circle",color:"red",size:300},{id:"Spider-Man",name:"Peter Benjamin Parker",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_spiderman.png",size:400},{id:"CAPTAIN MARVEL",name:"Carol Danvers",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainmarvel.png",size:400},{id:"HULK",name:"Robert Bruce Banner",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_hulk.png",size:400},{id:"Black Widow",name:"Natasha Alianovna Romanova",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_blackwidow.png",size:400},{id:"Daredevil",name:"Matthew Michael Murdock",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_daredevil.png",size:400},{id:"Wolverine",name:"James Howlett",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_wolverine.png",size:400},{id:"Captain America",name:"Steven Rogers",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainamerica.png",size:400},{id:"Iron Man",name:"Tony Stark",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_ironman.png",size:400},{id:"THOR",name:"Thor Odinson",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_thor.png",size:400},{id:"Dr. Doom",name:"Victor von Doom",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/drdoom.png",size:400},{id:"Mystique",name:"Unrevealed",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/mystique.png",size:400},{id:"Red Skull",name:"Johann Shmidt",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/redskull.png",size:400},{id:"Ronan",name:"Ronan",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/ronan.png",size:400},{id:"Magneto",name:"Max Eisenhardt",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/magneto.png",size:400},{id:"Thanos",name:"Thanos",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/thanos.png",size:400},{id:"Black Cat",name:"Felicia Hardy",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/blackcat.png",size:400},{id:"Avengers",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/avengers.png",size:400},{id:"Guardians of the Galaxy",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/gofgalaxy.png",size:400},{id:"Defenders",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/defenders.png",size:400},{id:"X-Men",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/xmen.png",size:400},{id:"Fantastic Four",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/fantasticfour.png",size:400},{id:"Inhumans",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/inhumans.png",size:400}]},V=a(377),L=a.n(V),J=a(896),K=a(888),G=a(884),q=a(892),U=a(889),Y=a(402),X=a(378),Z=a.n(X),$=a(400),Q=a(895);var ee=function(e){var t=e.home,a=void 0!==t&&t,l=e.className,c=void 0===l?"":l,i=Object(n.useState)(null),s=Object(u.a)(i,2),m=s[0],d=s[1],p=function(){d(null)};return r.a.createElement("div",null,r.a.createElement(v.a,{edge:"start",className:c,color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){d(e.currentTarget)}},r.a.createElement(Z.a,null)),r.a.createElement($.a,{id:"simple-menu",anchorEl:m,keepMounted:!0,open:Boolean(m),onClose:p},r.a.createElement(Q.a,{onClick:p},r.a.createElement(o.b,{to:"/"},"Root")),a?r.a.createElement(Q.a,{onClick:p},r.a.createElement(o.b,{to:"/home"},"Home")):null))},te=a(272),ae=a.n(te),ne=a(271),re=a.n(ne),le=a(270),ce=a.n(le),ie=a(870),oe=a(871);var se={menuItemText:{marginLeft:3}},ue=function(e){var t=e.value,a=e.setValue,l=Object(n.useState)(null),c=Object(u.a)(l,2),i=c[0],o=c[1],s=function(e){o(e.currentTarget)},m=function(){o(null)};function d(e){m(),a(e)}return r.a.createElement("div",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.a.createElement(ie.a,{title:"Change view",arrow:!0,TransitionComponent:oe.a},r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"bubble-menu","aria-haspopup":"true",onClick:s},1===t?r.a.createElement(ce.a,null):2===t?r.a.createElement(re.a,null):r.a.createElement(ae.a,null),e?1===t?"table":2===t?"chart":"graph":null))}(),r.a.createElement($.a,{id:"bubble-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:m},0!==t?r.a.createElement(Q.a,{onClick:function(){d(0)}},r.a.createElement(ae.a,null),r.a.createElement(h.a,{style:se.menuItemText},"Graph")):null,1!==t?r.a.createElement(Q.a,{onClick:function(){d(1)}},r.a.createElement(ce.a,null),r.a.createElement(h.a,{style:se.menuItemText},"Table")):null,2!==t?r.a.createElement(Q.a,{onClick:function(){d(2)}},r.a.createElement(re.a,null),r.a.createElement(h.a,{style:se.menuItemText},"Chart")):null))},me=a(830),de=a(831),pe=a(836),fe=a(828),he=Object(w.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var ge=function(e){var t=e.closed,a=void 0===t||t,n=localStorage.getItem("loggedIn"),l=he(),c=r.a.useState(!a),o=Object(u.a)(c,2),s=o[0],m=o[1],d=r.a.useState(!0),f=Object(u.a)(d,2),g=f[0],b=f[1],E=r.a.useState(""),v=Object(u.a)(E,2),y=v[0],j=v[1],O=r.a.useState(""),k=Object(u.a)(O,2),w=k[0],S=k[1],x=r.a.useState(""),_=Object(u.a)(x,2),T=_[0],D=_[1],N=r.a.createElement("div",{className:l.paper},r.a.createElement(me.a,null,r.a.createElement(de.a,null,"Are you sure you want to logout?"),r.a.createElement(i.b,{render:function(e){var t=e.history;return r.a.createElement(I.a,{onClick:function(){localStorage.removeItem("loggedIn"),m(!1),t.push("/")}},"Yes")}}))),M=r.a.createElement("div",{className:l.paper},r.a.createElement(me.a,null,r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"email"},"Email address"),r.a.createElement(fe.a,{id:"email",type:"email","aria-describedby":"Enter institution email address",onChange:function(e){j(e.target.value)}})),r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"pass"},"Password"),r.a.createElement(fe.a,{id:"pass",type:"password","aria-describedby":"Enter password",onChange:function(e){S(e.target.value)}})),g?null:r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"name"},"Full name"),r.a.createElement(fe.a,{id:"name","aria-describedby":"Enter full name",onChange:function(e){D(e.target.value)}})),r.a.createElement(me.a,null,r.a.createElement(de.a,{onClick:function(){b(!g)}},g?"Don't have an account? Click here to register..":"I have an account, click here to login..")),r.a.createElement(me.a,null,r.a.createElement(I.a,{onClick:g?function(){fetch(p("users/login"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:y,password:w})}).then((function(e){return e.json()})).then((function(e){e.email===y&&(localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("loggedIn","true"),m(!1))}))}:function(){fetch(p("users/register"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:y,password:w,name:T})}).then((function(e){return e.json()})).then((function(e){e.email===y&&(localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("loggedIn","true"),m(!1))}))}},g?"Login":"Register"))));return r.a.createElement("div",null,r.a.createElement(h.a,{onClick:function(){m(!0)}},n?"Logout":"Login"),r.a.createElement(C.a,{open:s,onClose:function(){m(!1)},"aria-labelledby":"login-modal-title","aria-describedby":"login-modal-description",className:l.modal},n?N:M))},be=a(188),Ee=a.n(be);var ve=function(e){e.value,e.setValue;var t=r.a.useState(null),a=Object(u.a)(t,2),n=a[0],l=a[1],c=function(){l(null)};return r.a.createElement("div",null,r.a.createElement(v.a,{"aria-label":"account of current user","aria-controls":"account-menu","aria-haspopup":"true",onClick:function(e){l(e.currentTarget)},color:"inherit"},r.a.createElement(Ee.a,null)),r.a.createElement($.a,{id:"account-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:c},r.a.createElement(Q.a,{onClick:c},r.a.createElement(ge,null))))},ye=a(263),je=a.n(ye),Oe=a(30);function ke(e){var t=e;return t.startsWith("doi:/")?t=t.replace("doi:/","https://doi.org"):t.startsWith("pubmed:/")&&(t=t.replace("pubmed:/","https://pubmed.ncbi.nlm.nih.gov")),t}function we(e,t){f("space",{id:e},(function(e){f("graph/sub?keys="+e.keys,null,(function(e){e=e.info,t(function(e){var t=Array();for(var a in e.nodes){var n=e.nodes[a];"paper"===n.type&&(n.url=n.id,n.url.startsWith("doi:/")?n.url=n.url.replace("doi:/","https://doi.org"):n.url.startsWith("pubmed:/")&&(n.url=n.url.replace("pubmed:/","https://pubmed.ncbi.nlm.nih.gov"))),"name"in n||(n.name=n.id),"y"in n&&(n.year=n.y),"date"in n||"ts"in n&&(n.date=new Date(parseInt(n.ts))),t.push(n)}var r=Array();for(var l in e.relationships)for(var c in e.relationships[l])r.push({source:c,target:l,type:e.relationships[l][c]});return{links:r,nodes:t}}(e))}),null,"get")}))}function Ce(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r={doi:e};a.length>0&&(r.keys=a),f("add_dois",r,(function(e){t(e.info)}),n)}function Se(e,t){0===t?t="paper":1===t?t="field":2===t&&(t="connections");var a=JSON.parse(JSON.stringify(e));return a.nodes=a.nodes.filter((function(e){return e.type===t})),a}var xe=a(834),Ie=a(874),_e=a(56),Te=Object(w.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var De=function(e){var t=e.data,a=e.handleClose,l=e.closed,c=void 0===l||l,i=Te(),o=Object(_e.b)().enqueueSnackbar,s=r.a.useState(!c),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(""),g=Object(u.a)(f,2),b=g[0],E=g[1],v=Object(n.useState)([]),y=Object(u.a)(v,2),j=y[0],O=y[1],k=Object(n.useState)([]),w=Object(u.a)(k,2),x=w[0],_=w[1],T=function(){p(!1)},D=function(){try{var e={};t.nodes.filter((function(e){return"field"===e.type})).forEach((function(t){e[t.id]=!0})),O(Object.keys(e))}catch(a){}};Object(n.useEffect)((function(){D()}),[]),Object(n.useEffect)((function(){D()}),[t]);var N=r.a.createElement("div",{className:i.paper},r.a.createElement(me.a,{style:{width:.45*window.innerWidth}},r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"dois"},"DOIs"),r.a.createElement(fe.a,{id:"dois",value:b,type:"text",placeholder:"Enter one doi per line","aria-describedby":"Enter one doi per line",multiline:!0,rows:6,onChange:function(e){E(e.target.value)}})),j.length>0?r.a.createElement(me.a,{fullWidth:!0,style:{paddingTop:1}},r.a.createElement(pe.a,{shrink:!0,id:"connect-to-label"},"Connect to"),r.a.createElement(xe.a,{labelId:"connect-to-label",id:"connect-to",multiple:!0,value:x,onChange:function(e){_(e.target.value)},input:r.a.createElement(fe.a,null),renderValue:function(e){return e.join(", ")}},j.map((function(e){return r.a.createElement(Q.a,{key:e,value:e},r.a.createElement(S.a,{checked:x.indexOf(e)>-1}),r.a.createElement(Ie.a,{primary:e}))})))):null,r.a.createElement(me.a,null,r.a.createElement(I.a,{onClick:function(){var e=b.split("\n").map((function(e,t){return e.startsWith("doi://")?e.substring(6,e.length):e.startsWith("http")?e.split("doi.org/",1)[1]:e})),t=Object(Oe.a)(e);Ce(e,(function(a){Object.keys(a).forEach((function(t,a){var n=e.indexOf(t);-1!==n&&e.splice(n,1)})),t.length>0?(E(t.join("\n")),o("Successfully added all DOIs except those remaining in text box.")):(E(""),o("Successfully added all DOIs."),T())}),x)}},"Add"))));return r.a.createElement(Q.a,{onClick:function(){p(!0),a()}},r.a.createElement(h.a,null,"Add DOIs"),r.a.createElement(C.a,{open:d,onClose:T,"aria-labelledby":"add-dois-title","aria-describedby":"add-dois-description",className:i.modal},N))},Ne=Object(w.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var Me=function(e){var t=e.data,a=e.handleClose,l=e.closed,c=void 0===l||l,i=Ne(),o=Object(_e.b)().enqueueSnackbar,s=r.a.useState(!c),m=Object(u.a)(s,2),d=m[0],p=m[1],g=Object(n.useState)(""),b=Object(u.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(""),j=Object(u.a)(y,2),O=j[0],k=j[1],w=Object(n.useState)([]),x=Object(u.a)(w,2),_=x[0],T=x[1],D=Object(n.useState)([]),N=Object(u.a)(D,2),M=N[0],F=N[1],R=function(){p(!1)},P=function(){try{var e={};t.nodes.filter((function(e){return"field"===e.type})).forEach((function(t){e[t.id]=!0})),T(Object.keys(e))}catch(a){}};Object(n.useEffect)((function(){P()}),[]),Object(n.useEffect)((function(){P()}),[t]);var H=r.a.createElement("div",{className:i.paper},r.a.createElement(me.a,{style:{width:.6*window.innerWidth}},r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"title"},"Title"),r.a.createElement(fe.a,{id:"title",type:"text","aria-describedby":"Enter project title",onChange:function(e){v(e.target.value)}})),r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"desc"},"Description"),r.a.createElement(fe.a,{id:"desc",type:"text","aria-describedby":"Enter project description",multiline:!0,rows:5,onChange:function(e){k(e.target.value)}})),_.length>0?r.a.createElement(me.a,{fullWidth:!0,style:{paddingTop:1}},r.a.createElement(pe.a,{shrink:!0,id:"connect-to-label"},"Connect to"),r.a.createElement(xe.a,{labelId:"connect-to-label",id:"connect-to",multiple:!0,value:M,onChange:function(e){F(e.target.value)},input:r.a.createElement(fe.a,null),renderValue:function(e){return e.join(", ")}},_.map((function(e){return r.a.createElement(Q.a,{key:e,value:e},r.a.createElement(S.a,{checked:M.indexOf(e)>-1}),r.a.createElement(Ie.a,{primary:e}))})))):null,r.a.createElement(me.a,null,r.a.createElement(I.a,{onClick:function(){f("add_project",{title:E,description:O,keys:M},(function(e){o("Successfully added project "+E),v(""),k(""),R()}),(function(){o("Failed to add project")}))}},"Add"))));return r.a.createElement(Q.a,{onClick:function(){p(!0),a()}},r.a.createElement(h.a,null,"Add Project"),r.a.createElement(C.a,{open:d,onClose:R,"aria-labelledby":"add-project-title","aria-describedby":"add-project-description",className:i.modal},H))};var Fe=function(e){var t=e.data,a=Object(n.useState)(null),l=Object(u.a)(a,2),c=l[0],i=l[1],o=function(){i(null)};return r.a.createElement("div",null,r.a.createElement(ie.a,{title:"Add",arrow:!0,TransitionComponent:oe.a},r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"bubble-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}},r.a.createElement(je.a,null))),r.a.createElement($.a,{id:"bubble-menu",anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:o},r.a.createElement(Me,{data:t,handleClose:o}),r.a.createElement(De,{data:t,handleClose:o})))},Re=a(399),Pe=a(384),He=a.n(Pe),We=a(202),ze=a.n(We);var Ae=function(e){var t=e.data,a=e.position,l=e.width,c=void 0===l?500:l,i=Object(n.useRef)(),o=Object(_e.b)().enqueueSnackbar,s=Object(n.useState)([20,20]),m=Object(u.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(!1),g=Object(u.a)(f,2),b=g[0],E=g[1],v=Object(n.useState)(null),y=Object(u.a)(v,2),O=y[0],k=y[1];Object(n.useEffect)((function(){p([a.x,a.y])}),[b]);var w=function(){E(!1)},C=Object(n.useCallback)((function(e){var t=1+40/Math.hypot(e.x,e.y,e.z);i.current.cameraPosition({x:e.x*t,y:e.y*t,z:e.z*t},e,3e3)}),[i]),S=Object(n.useCallback)((function(e){k(e),E(!0)}),[i]);return r.a.createElement("div",null,r.a.createElement(Re.a,{ref:i,graphData:t,linkWidth:2,width:c,onNodeClick:S,nodeColor:function(e){return"paper"===e.type?"grey":"field"===e.type?"green":"white"}}),r.a.createElement($.a,{id:"simple-menu",anchorEl:b,keepMounted:!0,open:Boolean(b),onClose:w,style:{position:"absolute",left:d[0],top:d[1]},getContentAnchorEl:null},r.a.createElement(Q.a,{onClick:function(e){var t=ke(O.id);navigator.clipboard.writeText(t),w(),o("Copied doi: "+t)}},r.a.createElement(ze.a,null),r.a.createElement(h.a,null,"Copy url")),r.a.createElement(Q.a,{onClick:function(e){var t=ke(O.id);w(),window.open(t,"_blank")}},r.a.createElement(j.a,null),r.a.createElement(h.a,null,"Open url")),r.a.createElement(Q.a,{onClick:function(e){w(),C(O)}},r.a.createElement(He.a,null),r.a.createElement(h.a,null,"Focus node"))))},Be=a(20),Ve=a(6),Le=a(13),Je=a(876),Ke=a(877),Ge=a(878),qe=a(879),Ue=a(880),Ye=a(405),Xe=a(881),Ze=a(882),$e=a(883),Qe=a(205),et=a.n(Qe),tt=a(203),at=a.n(tt),nt=a(204),rt=a.n(nt);var lt={menuItemText:{marginLeft:5}},ct=function(e){var t=e.value,a=e.setValue,l=Object(n.useState)(null),c=Object(u.a)(l,2),i=c[0],o=c[1],s=function(e){o(e.currentTarget)},m=function(){o(null)};function d(e){m(),a(e)}return r.a.createElement("div",{style:{paddingLeft:10}},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"menu","aria-controls":"table-menu","aria-haspopup":"true",onClick:s},1===t?r.a.createElement(at.a,null):2===t?r.a.createElement(rt.a,null):r.a.createElement(et.a,null),e?1===t?"table":2===t?"chart":"graph":null)}(),r.a.createElement($.a,{id:"table-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:m},0!==t?r.a.createElement(Q.a,{onClick:function(){d(0)}},r.a.createElement(et.a,null),r.a.createElement(h.a,{style:lt.menuItemText},"Papers")):null,1!==t?r.a.createElement(Q.a,{onClick:function(){d(1)}},r.a.createElement(at.a,null),r.a.createElement(h.a,{style:lt.menuItemText},"Fields")):null,2!==t?r.a.createElement(Q.a,{onClick:function(){d(2)}},r.a.createElement(rt.a,null),r.a.createElement(h.a,{style:lt.menuItemText},"Connections")):null))},it=Object(Ve.a)((function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}}))(Je.a),ot=Object(Ve.a)((function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.action.hover}}}}))(Ke.a);Object(Ve.a)((function(e){return{root:{}}}))(Y.a);function st(e){return console.log(e.nodes[3]),Se(e,"paper").nodes.map((function(e){return r.a.createElement(ot,{key:e.id},r.a.createElement(it,{component:"th",scope:"row"},r.a.createElement(Ge.a,{href:e.url,target:"_blank"},e.name?e.name:"-")),r.a.createElement(it,null,e.date?e.date.toString().substr(0,10):e.year?e.year:"-"),r.a.createElement(it,{align:"right"},e.c?e.c:"-"),r.a.createElement(it,{align:"right"},e.r?e.r:"-"),r.a.createElement(it,{align:"right"},e.t?e.t in["1","0"]?"paper":e.t:"-"),r.a.createElement(it,{align:"right"},"-"))}))}function ut(e){return Se(e,"field").nodes.map((function(t){return r.a.createElement(ot,{key:t.id},r.a.createElement(it,{component:"th",scope:"row"},t.id),r.a.createElement(it,{align:"right"},(e.links||[]).filter((function(e){return e.target.id===t.id})).length),r.a.createElement(it,{align:"right"},"-"))}))}function mt(e){return console.log(e.links[0]),e.links.map((function(e){return r.a.createElement(ot,{key:e.source.id+e.target.id},r.a.createElement(it,{component:"th",scope:"row"},e.source.name),r.a.createElement(it,{align:"right"},e.target.id))}))}var dt=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:Object(Be.a)({flexGrow:1,display:"none"},e.breakpoints.up("sm"),{display:"block"}),search:Object(Be.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(Le.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(Le.c)(e.palette.common.white,.25)},marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(Be.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}})}})),pt=function(e){var t=e.data,a=e.width,l=void 0===a?500:a,c=e.maxHeight,i=void 0===c?window.innerHeight:c,o=dt(),s=Object(n.useState)(0),m=Object(u.a)(s,2),d=m[0],p=m[1],f={0:st,1:ut,2:mt};return r.a.createElement(qe.a,{component:Y.a,style:{width:l,maxHeight:i}},r.a.createElement(Ue.a,{container:!0,spacing:3,justify:"space-between",alignItems:"center"},r.a.createElement(Ue.a,{item:!0,xs:3},r.a.createElement(ct,{value:d,setValue:p})),r.a.createElement(Ue.a,{item:!0,xs:3},r.a.createElement("div",{className:o.search},r.a.createElement("div",{className:o.searchIcon},r.a.createElement(R.a,null)),r.a.createElement(Ye.a,{placeholder:"Search\u2026",classes:{root:o.inputRoot,input:o.inputInput},inputProps:{"aria-label":"search"}})))),r.a.createElement(Xe.a,{stickyHeader:!0,"aria-label":"data-table"},r.a.createElement(Ze.a,null,{0:[["Title",{}],["Date",{align:"right"}],["Citations",{align:"right"}],["References",{align:"right"}],["Type",{align:"right"}],["Options",{align:"right"}]],1:[["Name",{}],["Connections",{align:"right"}],["Opt",{align:"right"}]],2:[["From",{}],["To",{}]]}[d].map((function(e){return r.a.createElement(it,{align:e[1].align},e[0])}))),r.a.createElement($e.a,null,f[d](t))))},ft=a(25);var ht={menuItemText:{marginLeft:5}},gt=function(e){var t=e.charts,a=e.value,l=e.setValue,c=Object(n.useState)(null),i=Object(u.a)(c,2),o=i[0],s=i[1],m=function(e){s(e.currentTarget)},d=function(){s(null)};return r.a.createElement("div",{style:{paddingLeft:10}},function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return r.a.createElement(I.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:m},r.a.createElement(h.a,{style:ht.menuItemText},t[a][1]))}(),r.a.createElement($.a,{id:"table-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:d},t.map((function(e,t){return t===a?null:r.a.createElement(Q.a,{onClick:function(){var e;e=t,d(),l(e)}},r.a.createElement(h.a,{style:ht.menuItemText},e[1]))}))))};var bt=function(e){var t=e.myData,a=e.width,l=void 0===a?500:a,c=e.maxHeight,i=void 0===c?window.innerHeight:c,o=Object(n.useState)(0),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)([]),f=Object(u.a)(p,2),h=f[0],g=f[1],b=Object(n.useState)(0),E=Object(u.a)(b,2),v=E[0],y=E[1];Object(n.useEffect)((function(){O()}),[m]);var j=[[function(){return r.a.createElement(ft.f,{key:v,width:l,height:500,data:Object(Oe.a)(h),margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ft.c,{strokeDasharray:"3 3"}),r.a.createElement(ft.i,{dataKey:"date"}),r.a.createElement(ft.j,{key:v}),r.a.createElement(ft.h,null),r.a.createElement(ft.d,null),r.a.createElement(ft.e,{type:"monotone",dataKey:"value",stroke:"#8884d8",activeDot:{r:8}}))},"Papers by year",function(){var e=(new Date).getFullYear(),a=Object(Oe.a)(t.nodes).reduce((function(t,a){var n=a.date?a.date.year:a.year?parseInt(a.year):null;if(null===n)return t;try{if(n=parseInt(n),isNaN(n)||n<=0||n>e)return t}catch(r){return t}return n in t||(t[n]=0),t[n]+=1,t}),{});g(Object(Oe.a)(Object.keys(a).map((function(e,t){return{date:e,value:a[e]}})).filter((function(e){return e.value===parseInt(e.value)&&e.value>0})).sort((function(e,t){return e.value<t.value}))))}],[function(){return r.a.createElement(ft.f,{key:v,width:l,height:500,data:Object(Oe.a)(h),margin:{top:5,right:30,left:20,bottom:5}},r.a.createElement(ft.c,{strokeDasharray:"3 3"}),r.a.createElement(ft.i,{dataKey:"date"}),r.a.createElement(ft.j,null),r.a.createElement(ft.h,null),r.a.createElement(ft.d,null),r.a.createElement(ft.e,{type:"monotone",dataKey:"sum",stroke:"#8884d8",activeDot:{r:8}}),r.a.createElement(ft.e,{type:"monotone",dataKey:"count",stroke:"#8884d8"}),r.a.createElement(ft.e,{type:"monotone",dataKey:"avg",stroke:"#8884d8"}))},"Citations by year",function(){var e=(new Date).getFullYear(),a=Object(Oe.a)(t.nodes).reduce((function(t,a){var n=a.date?a.date.year:a.year?parseInt(a.year):null;if(null===n)return t;var r=a.c?parseInt(a.c):null;if(null===r||isNaN(r))return t;try{if(n=parseInt(n),isNaN(n)||n<=0||n>e)return t}catch(l){return t}return console.log(t),n in t||(t[n]={sum:0,count:0}),t[n].count+=1,t[n].sum+=r,t}),{});g(Object(Oe.a)(Object.keys(a).map((function(e,t){return{date:e,sum:a[e].sum,count:a[e].count,avg:Math.floor(a[e].sum/a[e].count)}})).filter((function(e){return e.count===parseInt(e.count)&&e.count>0})).sort((function(e,t){return e.date<t.date}))))}],[function(){return r.a.createElement(ft.b,{key:v,width:l,height:500,data:Object(Oe.a)(h),margin:{top:5,right:30,left:20,bottom:5},barSize:20},r.a.createElement(ft.i,{dataKey:"type",scale:"point",padding:{left:2}}),r.a.createElement(ft.j,{key:v}),r.a.createElement(ft.h,null),r.a.createElement(ft.d,null),r.a.createElement(ft.c,{strokeDasharray:"3 3"}),r.a.createElement(ft.a,{dataKey:"count",fill:"#8884d8",background:{fill:"#eee"}}))},"Papers by type",function(){var e=Object(Oe.a)(t.nodes).reduce((function(e,t){if("paper"!==t.type)return e;var a=t.t||null;return(null===a||a in["0","1"])&&(a="paper"),a in e||(e[a]=0),e[a]+=1,e}),{}),a=Object.keys(e).map((function(t,a){return{type:t,count:e[t]}})).filter((function(e){return e.count===parseInt(e.count)&&e.count>0}));g(a)}]],O=function(){j[m][2](),y(v+1)};return r.a.createElement("div",{style:{width:l+40,maxHeight:i}},r.a.createElement("div",{style:{paddingLeft:10}},r.a.createElement(gt,{charts:j,value:m,setValue:function(e){d(e)}})),r.a.createElement(ft.g,{maxHeight:.8*i,key:v},j[m][0]()))},Et=a(209),vt=a(44),yt=a(890),jt=a(394),Ot=a.n(jt),kt=Object(w.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var wt=function(e){var t=e.data,a=e.setFilterRules,l=e.allData,c=kt(),i=Object(n.useState)(!1),o=Object(u.a)(i,2),s=o[0],m=o[1],d=Object(n.useState)([]),p=Object(u.a)(d,2),f=p[0],h=p[1],g=Object(n.useState)(["s1","s2","s3"]),b=Object(u.a)(g,2),E=b[0],y=b[1],j=Object(n.useState)([]),O=Object(u.a)(j,2),k=O[0],w=O[1],x=Object(n.useState)(""),_=Object(u.a)(x,2),T=_[0],D=_[1],N=Object(n.useState)(["f1","f2","f3"]),M=Object(u.a)(N,2),F=M[0],R=M[1],P=Object(n.useState)(new Date("2014-08-18T21:11:54")),H=Object(u.a)(P,2),W=H[0],z=H[1],A=Object(n.useState)(new Date),B=Object(u.a)(A,2),V=B[0],L=B[1],J=Object(n.useState)([]),K=Object(u.a)(J,2),G=K[0],q=K[1],U=function(){try{var e={};l.nodes.forEach((function(t){"t"in t&&(t.t in e||t.t in["1","0"]||(e[t.t]=!0))})),y(Object.keys(e));var t={};l.nodes.filter((function(e){return"field"===e.type})).forEach((function(e){t[e.id]=!0})),R(Object.keys(t))}catch(a){console.log(a)}};Object(n.useEffect)((function(){U(),q([new Date(W.getTime()),new Date(V.getTime())])}),[]),Object(n.useEffect)((function(){U()}),[l]);var Y=r.a.createElement("div",{className:c.paper},r.a.createElement(Ue.a,{container:!0,justify:"center"},r.a.createElement(me.a,null,r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"key-search"},"Search"),r.a.createElement(fe.a,{id:"key-search","aria-describedby":"search",inputProps:{"aria-label":"search"},onChange:function(e){D(e.target.value)}})),E.length>0?r.a.createElement(me.a,{style:{marginTop:5}},r.a.createElement(pe.a,{shrink:!0,id:"paper-type-label"},"Item type"),r.a.createElement(xe.a,{labelId:"paper-type-label",id:"paper-type",multiple:!0,value:f,onChange:function(e){h(e.target.value)},input:r.a.createElement(fe.a,null),renderValue:function(e){return e.join(", ")}},E.map((function(e){return r.a.createElement(Q.a,{key:e,value:e},r.a.createElement(S.a,{checked:f.indexOf(e)>-1}),r.a.createElement(Ie.a,{primary:e}))})))):null,r.a.createElement(me.a,null,r.a.createElement(vt.a,{utils:Et.a},r.a.createElement(Ue.a,{container:!0,justify:"space-around"},r.a.createElement(yt.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"From date",value:W,onChange:z,KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(yt.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"until-date-picker-inline",label:"Until date",value:V,onChange:L,KeyboardButtonProps:{"aria-label":"change date"}})))),F.length>0?r.a.createElement(me.a,{style:{paddingTop:1}},r.a.createElement(pe.a,{shrink:!0,id:"paper-type-label"},"Fields"),r.a.createElement(xe.a,{labelId:"paper-type-label",id:"paper-type",multiple:!0,value:k,onChange:function(e){w(e.target.value)},input:r.a.createElement(fe.a,null),renderValue:function(e){return e.join(", ")}},F.map((function(e){return r.a.createElement(Q.a,{key:e,value:e},r.a.createElement(S.a,{checked:k.indexOf(e)>-1}),r.a.createElement(Ie.a,{primary:e}))})))):null,r.a.createElement(me.a,{style:{marginTop:5}},r.a.createElement(I.a,{variant:"contained",onClick:function(){var e=function(){var e={};return T.length>0&&(e.title=T.substr(0,T.length).split(" ").filter((function(e){return e.length>0})).map((function(e){return e.toLowerCase()}))),f.length>0&&(e.types=Object(Oe.a)(f)),k.length>0&&(e.keys=Object(Oe.a)(k)),W.getTime()===G[0].getTime()&&V.getTime()===G[1].getTime()||(e.dates=[new Date(W.getTime()),new Date(V.getTime())]),e}();a(e)}},"Save")))),r.a.createElement("div",{style:{maxHeight:300,marginTop:10}},r.a.createElement(pt,{data:t,maxHeight:300,width:.7*window.innerWidth})));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{title:"Filter",arrow:!0,TransitionComponent:oe.a},r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){m(!0)}},r.a.createElement(Ot.a,null))),r.a.createElement(C.a,{open:s,onClose:function(){m(!1)},"aria-labelledby":"filter-graph-data","aria-describedby":"filter-graph-data-description",className:c.modal},Y))},Ct=a(277),St=a(886),xt=a(887),It=a(873),_t=a(396),Tt=a.n(_t),Dt=a(395),Nt=a.n(Dt);var Mt=function(e){var t=e.data,a=e.checkedDois,n=e.setCheckedDois,l=Object(_e.b)().enqueueSnackbar;return r.a.createElement("div",{style:{paddingTop:20,width:.5*window.innerWidth,maxHeight:.5*window.innerHeight,overflow:"auto"}},t.length?r.a.createElement(Ue.a,{container:!0,spacing:3},t.map((function(e){return function(e,t,a,n){return r.a.createElement(Ue.a,{item:!0,container:!0,component:Y.a},r.a.createElement(Ue.a,{item:!0,xs:12},r.a.createElement(h.a,{display:"block"},r.a.createElement(Ge.a,{href:e.link,target:"_blank"},e.title))),r.a.createElement(Ue.a,{item:!0,xs:9,variant:"overline",display:"block"},r.a.createElement(h.a,null,e.authors.join(", ").substr(0,40))),r.a.createElement(Ue.a,{item:!0,container:!0,xs:3,justify:"flex-end",alignItems:"flex-start",variant:"overline",display:"block"},r.a.createElement(h.a,null,new Intl.DateTimeFormat("en-GB",{year:"numeric",month:"long",day:"2-digit"}).format(e.date))),e.abstract?r.a.createElement(Ue.a,{item:!0,xs:12},r.a.createElement(h.a,{variant:"caption",display:"block"},e.abstract)):null,r.a.createElement(Ue.a,{item:!0,container:!0,xs:6,alignItems:"center"},r.a.createElement(h.a,{variant:"caption",display:"block"},e.type)),r.a.createElement(Ue.a,{item:!0,container:!0,xs:6,justify:"flex-end",alignItems:"flex-start"},r.a.createElement(v.a,{edge:"start",color:"inherit",onClick:function(t){window.open(e.download,"_blank")}},r.a.createElement(Nt.a,null)),r.a.createElement(v.a,{edge:"start",color:"inherit",onClick:function(a){navigator.clipboard.writeText(e.doi),t("Copied doi: "+e.doi)}},r.a.createElement(ze.a,null)),r.a.createElement(S.a,{checked:-1!==a.indexOf(e.doi),onChange:function(t){var r=Object(Oe.a)(a),l=e.doi,c=a.indexOf(l);-1===c||t.target.checked?-1===c&&t.target.checked&&(r.push(l),n(r)):(r.splice(c,1),n(r))},inputProps:{"aria-label":"uncontrolled-checkbox"}})))}(e,l,a,n)}))):null)},Ft=a(720),Rt="https://www.sciencedirect.com",Pt={"Review articles":"REV","Research articles":"FLA",Encyclopedia:"EN","Book chapters":"CH","Conference abstracts":"ABS","Book reviews":"BRV","Case reports":"CRP","Conference info":"CNF",Correspondence:"COR","Data articles":"DAT",Discussion:"DIS",Editorials:"EDI",Errata:"ERR",Examinations:"EXM","Mini reviews":"SSU",News:"NWS","Patent reports":"PNT","Practice guidelines":"PGL","Product reviews":"PRV","Replication studies":"RPL","Short communications":"SCO","Software publications":"OSP","Video articles":"VID",Other:"OT"};function Ht(e){return e.startsWith("/")&&(e=Rt+e),e}function Wt(e,t){var a=function(e){var t={qs:e.text};if(e["date-range"]){var a="";a=e["date-range"][0]===e["date-range"][1]?e["date-range"][0].getFullYear().toString():e["date-range"][0].getFullYear().toString()+"-"+e["date-range"][1].getFullYear().toString(),t.date=a}for(var n in["authors","affiliations","title","reference"])e[n]&&(t[n]=e[n]);if(e.types){var r=e.types.filter((function(e){return e in Pt})).map((function(e){return Pt[e]}));r.length>0&&(t.articleTypes=r.join(","))}return t.show=e.resultsPerPage||20,e.page&&(t.offset=t.show*e.page),e.specificKeywords&&(t.tak=e.specificKeywords),t}(e),n="https://www.sciencedirect.com/search/api?"+Ft.stringify(a);console.log(n),fetch(n,{redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){t(e.searchResults.map((function(e){return function(e,t){var a={title:e.title.replace(/<[^>]+>/g,""),doi:e.doi};if(e.sortDate&&(a.date=new Date(e.sortDate)),(e.authors||[]).length>0){a.authors=[];for(var n=0;n<e.authors.length;n++){var r=e.authors[n];r.order===n&&a.authors.push(r.name)}}return e.articleType&&(a.type=e.articleTypeDisplayName),e.score&&(a.score=e.score),e.link&&(a.link=Ht(e.link)),e.pdf&&e.pdf.downloadLink&&(a.download=Ht(e.pdf.downloadLink)),a}(e)})))}))}var zt=Tt()((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var At=function(e){e.data;var t=e.allData,a=zt(),l=Object(_e.b)().enqueueSnackbar,c=Object(n.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),p=d[0],f=d[1],h=Object(n.useState)([]),g=Object(u.a)(h,2),b=g[0],E=g[1],y=Object(n.useState)(0),j=Object(u.a)(y,2),O=j[0],k=j[1],w=Object(n.useState)(""),x=Object(u.a)(w,2),_=x[0],T=x[1],D=Object(n.useState)([]),N=Object(u.a)(D,2),M=N[0],F=N[1],P=Object(n.useState)(!1),H=Object(u.a)(P,2),W=(H[0],H[1],Object(n.useState)(new Date("1999-08-18T21:11:54"))),z=Object(u.a)(W,2),A=z[0],B=z[1],V=Object(n.useState)(new Date),L=Object(u.a)(V,2),J=L[0],K=L[1],G=Object(n.useState)({}),q=Object(u.a)(G,2),U=q[0],Y=q[1],X=Object(n.useState)([]),Z=Object(u.a)(X,2),$=Z[0],ee=Z[1],te=Object(n.useState)([]),ae=Object(u.a)(te,2),ne=ae[0],re=ae[1],le=function(e){if(e&&e.length>0){var t=Object(Oe.a)(b);t=t.concat(e),E(t)}},ce=function(){try{var e={};t.nodes.filter((function(e){return"field"===e.type})).forEach((function(t){e[t.id]=!0})),ee(Object.keys(e))}catch(a){}};Object(n.useEffect)((function(){ce()}),[]),Object(n.useEffect)((function(){ce()}),[t]);var se=function(){var e=Object(Ct.a)({text:_.valueOf()},U);return e.page=O,e};function ue(e,t){var a=Object(Ct.a)({},U);a[e]=t,Y(a)}function de(){ue("date-range",[A,J])}var he=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&(E([]),k(0));var t=se();Wt(t,le)},ge=r.a.createElement("div",{className:a.paper},r.a.createElement(Ue.a,{container:!0,justify:"center"},r.a.createElement(me.a,{style:{width:.35*window.innerWidth}},r.a.createElement(me.a,null,r.a.createElement(pe.a,{htmlFor:"search-text"},"Search"),r.a.createElement(fe.a,{id:"search-text","aria-describedby":"search",inputProps:{"aria-label":"search"},onChange:function(e){T(e.target.value)}})),r.a.createElement(St.a,{control:r.a.createElement(xt.a,{checked:p,onChange:function(){f(!p)}}),label:"Show Advanced"}),r.a.createElement(It.a,{in:p},r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(vt.a,{utils:Et.a},r.a.createElement(Ue.a,{container:!0,justify:"space-around"},r.a.createElement(yt.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"date-picker-inline",label:"From date",value:A,onChange:function(e){e&&(B(e),de())},KeyboardButtonProps:{"aria-label":"change date"}}),r.a.createElement(yt.a,{disableToolbar:!0,variant:"inline",format:"MM/dd/yyyy",margin:"normal",id:"until-date-picker-inline",label:"Until date",value:J,onChange:function(e){e&&(K(e),de())},KeyboardButtonProps:{"aria-label":"change date"}})))),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(pe.a,{htmlFor:"authors-text"},"Authors"),r.a.createElement(fe.a,{id:"authors-text","aria-describedby":"authors",inputProps:{"aria-label":"search"},onChange:function(e){ue("authors",e.target.value)}})),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(pe.a,{htmlFor:"affiliations-text"},"Affiliations"),r.a.createElement(fe.a,{id:"affiliations-text","aria-describedby":"affiliations",inputProps:{"aria-label":"search"},onChange:function(e){ue("affiliations",e.target.value)}})),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(pe.a,{htmlFor:"title-text"},"Title"),r.a.createElement(fe.a,{id:"title-text","aria-describedby":"title",inputProps:{"aria-label":"search"},onChange:function(e){ue("title",e.target.value)}})),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(pe.a,{htmlFor:"references-text"},"Reference"),r.a.createElement(fe.a,{id:"references-text","aria-describedby":"references",inputProps:{"aria-label":"search"},onChange:function(e){ue("references",e.target.value)}})),$.length>0?r.a.createElement(me.a,{fullWidth:!0,style:{paddingTop:1}},r.a.createElement(pe.a,{shrink:!0,id:"paper-type-label"},"Connect to"),r.a.createElement(xe.a,{labelId:"paper-type-label",id:"paper-type",multiple:!0,value:ne,onChange:function(e){re(e.target.value)},input:r.a.createElement(fe.a,null),renderValue:function(e){return e.join(", ")}},$.map((function(e){return r.a.createElement(Q.a,{key:e,value:e},r.a.createElement(S.a,{checked:ne.indexOf(e)>-1}),r.a.createElement(Ie.a,{primary:e}))})))):null),r.a.createElement(me.a,null,r.a.createElement(I.a,{variant:"contained",color:"primary",onClick:he},"Search")))),r.a.createElement(Mt,{data:b,checkedDois:M,setCheckedDois:F}),r.a.createElement(Ue.a,{container:!0,justify:"flex-end",spacing:2},M.length>0?r.a.createElement(Ue.a,{item:!0},r.a.createElement(I.a,{variant:"outlined",color:"secondary",onClick:function(){if(M.length>0){var e=Object(Oe.a)(M);Ce(M,(function(t){Object.keys(t).forEach((function(t,a){var n=e.indexOf(t);-1!==n&&e.splice(n,1)})),F(e),0===e.length?l("Successfully added all selected."):l("Added all dois, except those that remained selected.")}),ne,(function(){l("Failed to add any selected")}))}}},"Add Selected")):null,r.a.createElement(Ue.a,{item:!0},r.a.createElement(I.a,{variant:"outlined",onClick:function(){k(O+1),he(!1)}},"More"))));return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie.a,{title:"Search Papers",arrow:!0,TransitionComponent:oe.a},r.a.createElement(v.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){s(!0)}},r.a.createElement(R.a,null))),r.a.createElement(C.a,{open:o,onClose:function(){s(!1)},"aria-labelledby":"search-graph-data","aria-describedby":"search-graph-data-description",className:a.modal},ge))},Bt=a(397),Vt=a.n(Bt),Lt=a(278),Jt=a(279);function Kt(e){var t=e.children,a=e.value,n=e.index,l=Object(A.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},l),a===n&&r.a.createElement(J.a,null,t))}function Gt(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var qt={rightGraphToolbar:{marginLeft:"auto"}},Ut=function(e){var t=decodeURI(window.location.href).split("/s/")[1],a=Object(n.useState)(B),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(B),s=Object(u.a)(o,2),m=s[0],d=s[1],p=Object(n.useState)(window.innerWidth/3*2),f=Object(u.a)(p,2),h=f[0],g=(f[1],Object(n.useState)(0)),b=Object(u.a)(g,2),E=b[0],v=b[1],y=Object(n.useState)(0),j=Object(u.a)(y,2),O=j[0],k=j[1],w=function(e){d(e),i(e)};return Object(n.useEffect)((function(){we(t,w)}),[]),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(K.a,{position:"static",color:"default",style:{width:h}},r.a.createElement(G.a,{variant:"dense"},r.a.createElement(ee,{home:!0}),r.a.createElement(ue,{value:O,setValue:k}),r.a.createElement(G.a,{variant:"dense",style:qt.rightGraphToolbar},r.a.createElement(wt,{data:m,setFilterRules:function(e){var t=function(e,t){var a={};return e.nodes=e.nodes.filter((function(e){if("field"===e.type)return(!("keys"in t)||e.id in t.keys)&&(a[e.id]=!0,!0);if("paper"!==e.type)return!1;if("title"in t){for(var n=e.name||e.id||"",r=!1,l=0;l<t.title.length;l++)if(-1!==n.indexOf(t.title[l])){r=!0;break}if(!r)return!1}if("types"in t&&!(e.t in[].concat(Object(Oe.a)(t.types),["0","1"])))return!1;if("dates"in t){var c=null;if("ts"in e)c=new Date(parseInt(e.ts));else{if(!("y"in e))return!1;(c=new Date(0,0,1,0,0)).setYear(parseInt(e.y))}if(!(c>=t.dates[0]&&c<=t.dates[1]))return!1}return a[e.id]=!0,!0})),e.links=e.links.filter((function(e){return e.source in a&&e.target in a})),e}(JSON.parse(JSON.stringify(c)),e);d(t)},allData:c}),r.a.createElement(At,{data:m,allData:c}),r.a.createElement(Fe,{data:m})),r.a.createElement(ve,null))),r.a.createElement(K.a,{position:"static",color:"default",style:{width:window.innerWidth-h}},r.a.createElement(q.a,{value:E,onChange:function(e,t){v(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(U.a,Object.assign({label:"Info"},Gt(0))),r.a.createElement(U.a,Object.assign({label:"Discord"},Gt(1))),r.a.createElement(U.a,Object.assign({label:"Facebook"},Gt(2))),r.a.createElement(U.a,Object.assign({label:"Reddit"},Gt(3))),r.a.createElement(U.a,Object.assign({label:"Item Five"},Gt(4))),r.a.createElement(U.a,Object.assign({label:"Item Six"},Gt(5))),r.a.createElement(U.a,Object.assign({label:"Item Seven"},Gt(6)))))),r.a.createElement("div",{style:{display:"flex"}},1===O?r.a.createElement(pt,{data:m,width:h}):2===O?r.a.createElement(bt,{myData:m,width:h}):r.a.createElement(Jt.b,{activationInteractionMouse:Jt.a.HOVER,hoverDelayInMs:250,hoverOffDelayInMs:150},r.a.createElement(Ae,{data:m,width:h})),r.a.createElement("div",null,r.a.createElement(Kt,{index:0,value:E},r.a.createElement(Y.a,{style:{overflow:"auto",maxHeight:window.innerHeight}})),r.a.createElement(Kt,{index:1,value:E},r.a.createElement(L.a,{server:"717755444646379600",channel:"717835175635058816",shard:"https://e.widgetbot.io",width:window.innerWidth-h,height:window.innerHeight})),r.a.createElement(Kt,{index:2,value:E},r.a.createElement(Lt.FacebookProvider,{appId:"657162925011369",chatSupport:!0},r.a.createElement(Lt.Group,{href:"https://www.facebook.com/groups/geneticbiohacking/",width:window.innerWidth-h,showSocialContext:!0,showMetaData:!0,skin:"light"}))),r.a.createElement(Kt,{index:3,value:E},r.a.createElement(Vt.a,{src:"https://redditjs.com/subreddit.js"})))))};var Yt=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1}}})),Xt=function(){var e=Yt(),t=function(){return r.a.createElement(K.a,{position:"static",color:"default"},r.a.createElement(G.a,{variant:"dense"},r.a.createElement(ee,null),r.a.createElement(h.a,{variant:"h6",className:e.title},"BioSpace"),r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/home"},r.a.createElement(z,null))),r.a.createElement(ve,null)))};return r.a.createElement(_e.a,{maxSnack:3},r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/home"},t(),r.a.createElement(k,null)),r.a.createElement(i.b,{path:"/s"},r.a.createElement(Ut,null)),r.a.createElement(i.b,{path:"/"},t(),r.a.createElement(s,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(Xt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[451,1,2]]]);
//# sourceMappingURL=main.ac9b17a5.chunk.js.map