{"version":3,"sources":["components/pages/PresentationPage.js","components/res/urls.js","components/pages/Home.js","components/pages/SearchModal.js","components/marvel/data.js","components/icons/MainRouteIcon.js","components/icons/GraphViewIcon.js","components/pages/LoginModal.js","components/icons/AccountIcon.js","components/res/data.js","components/visualisations/GraphVisualisation.js","components/icons/TableViewIcon.js","components/visualisations/TableVisualisation.js","components/modals/FilterDataModal.js","components/visualisations/GridVisualisation.js","components/apis/ScienceDirect.js","components/modals/SearchPapersModal.js","components/pages/Visualize.js","App.js","serviceWorker.js","index.js"],"names":["PresentationPage","props","localStorage","getItem","render","to","pathname","state","from","location","className","originalFetch","require","fetch","retries","retryDelay","getUrl","path","fetchUrl","url","json","callback","error","method","headers","body","JSON","stringify","then","response","data","catch","result","styles","list","flexWrap","transform","listItem","margin","maxWidth","rootList","display","justifyContent","Home","useState","lastAccessed","setLastAccessed","popular","setPopular","getSpaces","by","func","Object","keys","map","key","getPopular","inputArray","name","length","style","Typography","GridList","sort","a","b","item","i","GridListTile","src","GridListTileBar","title","actionIcon","IconButton","history","onClick","push","useEffect","icon","fontSize","checkedIcon","useStyles","makeStyles","theme","paper","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","modal","alignItems","ModalSearch","closed","classes","React","open","setOpen","selected","setSelected","setKeys","parse","res","setItem","keywordsList","Array","console","log","count","slice","id","Autocomplete","multiple","options","disableCloseOnSelect","getOptionLabel","option","renderOption","Fragment","Checkbox","marginRight","checked","width","renderInput","params","TextField","variant","label","placeholder","onChange","event","value","d","Button","searchString","join","goToSpace","aria-label","aria-haspopup","color","Modal","onClose","aria-labelledby","aria-describedby","links","source","target","nodes","svg","size","symbolType","MainRouteIcon","home","anchorEl","setAnchorEl","handleClose","edge","aria-controls","currentTarget","Menu","keepMounted","Boolean","MenuItem","menuItemText","marginLeft","GraphViewIcon","setValue","handleClick","setVisualisation","val","Tooltip","arrow","TransitionComponent","Fade","showIcon","LoginModal","loggedIn","loginOrRegister","setLoginOrRegister","email","setEmail","password","setPassword","setName","logoutBody","FormControl","FormHelperText","removeItem","loginBody","InputLabel","htmlFor","Input","type","AccountIcon","anchorAccount","setAnchorAccount","handleAccountClose","convertId","givenId","startsWith","replace","fetchGraphData","space_id","setData","info","currentNode","relations","dst","convertToGraphData","filterByType","infoType","newData","filter","nodeInfo","GraphVisualisation","position","fgRef","useRef","enqueueSnackbar","useSnackbar","coordinates","setCoordinates","openNodeMenu","setOpenNodeMenu","setCurrentNode","x","y","closeNodeMenu","focusNode","useCallback","node","distRatio","Math","hypot","z","current","cameraPosition","ref","graphData","linkWidth","onNodeClick","left","top","getContentAnchorEl","navigator","clipboard","writeText","window","TableViewIcon","paddingLeft","StyledTableCell","withStyles","head","common","black","white","TableCell","StyledTableRow","root","action","hover","TableRow","Paper","getPapersCellsFrom","row","component","scope","Link","href","align","getFieldsCellsFrom","getConnectionsCellsFrom","flexGrow","menuButton","breakpoints","up","search","borderRadius","shape","fade","searchIcon","height","pointerEvents","inputRoot","inputInput","transition","transitions","create","TableVisualisation","maxHeight","innerHeight","tableType","setTableType","tableCells","0","1","2","TableContainer","Grid","container","justify","xs","InputBase","input","inputProps","Table","stickyHeader","TableHead","header","TableBody","FilterDataModal","setFilterRules","allData","paperTypes","setPaperTypes","allPaperTypes","setAllPaperTypes","fields","setFields","queryText","setQueryText","allFields","setAllFields","Date","fromDate","setFromDate","untilDate","setUntilDate","initialDates","setInitialDates","updateDefaults","types","forEach","myFields","e","getTime","marginTop","shrink","Select","labelId","renderValue","indexOf","ListItemText","primary","utils","DateFnsUtils","disableToolbar","format","KeyboardButtonProps","paddingTop","filterRules","filterData","substr","split","toLowerCase","getFilter","innerWidth","GridVisualisation","checkedDois","setCheckedDois","overflow","paperInfo","link","authors","Intl","DateTimeFormat","year","month","day","date","abstract","download","doi","arr","index","splice","getPaperBlock","querystring","articleTypes","getScienceDirectUrl","searchScienceDirect","query","addData","myQuery","inputQuery","qs","getFullYear","toString","filterQuery","myUrl","redirect","referrerPolicy","authorInfo","filterResult","SearchPapersModal","showAdvanced","setShowAdvanced","papers","setPapers","pageNumber","setPageNumber","setQuery","addPapers","inputPapers","myPapers","concat","updateFields","getQuery","valueOf","setQueryField","setDate","searchPapers","clear","FormControlLabel","control","Switch","Collapse","in","fullWidth","dois","doiList","err","addDois","ind","TabPanel","children","other","role","hidden","Box","a11yProps","rightGraphToolbar","ViewKeywords","decodeURI","setAllData","myData","graphWidth","tabValue","setTabValue","graphViewValue","setGraphViewValue","setGraphData","AppBar","Toolbar","rules","nodeIds","elem","found","paperDate","parseInt","setYear","filterByRules","Tabs","newValue","indicatorColor","textColor","scrollButtons","Tab","ReactCursorPosition","activationInteractionMouse","INTERACTIONS","HOVER","hoverDelayInMs","hoverOffDelayInMs","List","ListItem","server","channel","shard","App","getMainAppBar","maxSnack","hostname","match","ReactDOM","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.1a0daf03.chunk.js","sourcesContent":["import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport {Redirect, Route} from 'react-router-dom';\r\n\r\nfunction PresentationPage(props) {\r\n    const loggedIn = localStorage.getItem(\"loggedIn\")\r\n    if (loggedIn) {\r\n        return (\r\n            <Route render={(props) => (\r\n                <Redirect to={{pathname: \"/home\", state: {from: props.location}}} />\r\n            )}\r\n            />\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            <p>Welcome to BioSpace!</p>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PresentationPage;\r\n","import React from \"react\";\r\n\r\nconst originalFetch = require('isomorphic-fetch');\r\nconst fetch = require('fetch-retry')(originalFetch, {\r\n    retries: 5,\r\n    retryDelay: 1000\r\n});\r\n\r\nexport const SITE = \"/\"\r\n\r\nexport const getUrl = (path) => {\r\n    return SITE + path\r\n}\r\n\r\nexport function fetchUrl(url, json, callback, error=null, method=\"post\") {\r\n    if (method === \"get\") {\r\n        fetch(\r\n            getUrl(url))\r\n            .then(function (response) {\r\n                return response.json()\r\n            })\r\n            .then(function (data) {\r\n                callback(data)\r\n            })\r\n            .catch((result) => {\r\n                if(error) {\r\n                    error(result)\r\n                }\r\n            })\r\n        return;\r\n    }\r\n    fetch(\r\n        getUrl(url), {\r\n            method: method,\r\n            headers: {\r\n                'Accept': 'application/json',\r\n                'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(json)\r\n        })\r\n        .then(function (response) {\r\n            return response.json()\r\n        })\r\n        .then(function (data) {\r\n            callback(data)\r\n        })\r\n        .catch((result) => {\r\n            if(error) {\r\n                error(result)\r\n            }\r\n        })\r\n}\r\n","import React, {useDebugValue, useEffect, useState} from 'react';\r\nimport {fetchUrl} from \"../res/urls\";\r\nimport {\r\n    Box, Typography,\r\n    Grid, GridList, GridListTile, GridListTileBar, IconButton\r\n} from \"@material-ui/core\";\r\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\r\nimport {Route} from \"react-router-dom\";\r\n\r\nfunction Home() {\r\n    const [lastAccessed, setLastAccessed] = useState([]);\r\n    const [popular, setPopular] = useState([]);\r\n\r\n    function getSpaces(by, func) {\r\n        fetchUrl(\"get_spaces\", {\r\n            \"by\": by\r\n        }, (data) => {\r\n            data = Object.keys(data).map((key) => data[key]);\r\n            func(data)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n            getSpaces(\"popularity\", setPopular)\r\n            getSpaces(\"accessed\", setLastAccessed)\r\n        }, []\r\n    )\r\n\r\n    function getPopular(inputArray, name, keys) {\r\n        if (!inputArray.length) {\r\n            return null;\r\n        }\r\n        return <div style={{margin: 10}}>\r\n            <Typography>{name}</Typography>\r\n            <div style={styles.rootList}>\r\n                <GridList style={styles.list}>\r\n                    {inputArray\r\n                        .sort((a, b) => a[keys] < b[keys] ? 1 : -1)\r\n                        .map((item, i) => (\r\n                            <GridListTile\r\n                                style={styles.listItem}\r\n                            >\r\n                                <img\r\n                                    src=\"https://i.pinimg.com/originals/d9/f7/05/d9f70593f3d861704c83c34faff90705.png\"/>\r\n                                <GridListTileBar\r\n                                    title={item[\"id\"]}\r\n                                    actionIcon={\r\n                                        <IconButton>\r\n                                            <Route render={({history}) => (\r\n                                                <OpenInBrowserIcon\r\n                                                    onClick={() => {\r\n                                                        history.push('/s/' + item['id'])\r\n                                                    }}\r\n                                                >\r\n                                                    Open\r\n                                                </OpenInBrowserIcon>\r\n                                            )}/>\r\n                                        </IconButton>\r\n                                    }\r\n                                />\r\n                            </GridListTile>\r\n                        ))}\r\n                </GridList>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"Home\">\r\n            {getPopular(popular, \"Popular\", \"popularity\")}\r\n            {getPopular(lastAccessed, \"Recent\", \"accessed\")}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    list: {\r\n        flexWrap: 'nowrap',\r\n        // Promote the list into his own layer on Chrome. This cost memory but helps keeping high FPS.\r\n        transform: 'translateZ(0)'\r\n    },\r\n    listItem: {\r\n        margin: 5,\r\n        maxWidth: 200\r\n    },\r\n    rootList: {\r\n        display: 'flex',\r\n        flexWrap: 'wrap',\r\n        justifyContent: 'space-around'\r\n    }\r\n};\r\n\r\nexport default Home;\r\n","import React, {useEffect} from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport {Button, Checkbox, TextField, IconButton} from '@material-ui/core';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\r\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport {getUrl} from \"../res/urls\";\r\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n\r\nconst icon = <CheckBoxOutlineBlankIcon fontSize=\"small\"/>;\r\nconst checkedIcon = <CheckBoxIcon fontSize=\"small\"/>;\r\nconst myKeys = [\r\n    {key: 'bioinformatics', count: 100},\r\n    {key: 'biomaterial', count: 100},\r\n    {key: 'tissue engineering', count: 100},\r\n    {key: 'biotechnology', count: 100},\r\n]\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 10, 3),\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n}));\r\n\r\n\r\nfunction ModalSearch({closed = true}) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(!closed);\r\n    const [selected, setSelected] = React.useState([]);\r\n    const [keys, setKeys] = React.useState([]);\r\n\r\n    useEffect(() => {\r\n        let keys = JSON.parse(localStorage.getItem(\"keywordsList\") || \"[]\");\r\n        if (!keys.length) {\r\n            keys = fetch(getUrl(\"graph/keywords\"))\r\n                .then(res => res.json())\r\n                .then((data) => {\r\n                    localStorage.setItem(\"keywordsDict\", JSON.stringify(data[\"info\"]));\r\n                    let keywordsList = Array();\r\n                    for (let key in data[\"info\"]) {\r\n                        keywordsList.push({\"key\": key, \"count\": data[\"info\"][key]})\r\n                    }\r\n                    keys = keywordsList;\r\n                    localStorage.setItem(\"keywordsList\", JSON.stringify(keywordsList));\r\n                })\r\n                .catch(console.log)\r\n        }\r\n        keys = keys.sort((a, b) => (a.count < b.count) ? 1 : -1);\r\n        keys = keys.slice(0, 1000);\r\n        setKeys(keys);\r\n        }, []\r\n    )\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const goToSpace = ({history, searchString}) => {\r\n        fetch(\r\n            getUrl(\"space\"), {\r\n                method: 'post',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"keys\": searchString,\r\n                })\r\n            })\r\n            .then(function (response) {\r\n                return response.json()\r\n            })\r\n            .then(function (data) {\r\n                if (data['id']) {\r\n                    history.push('/s/' + data['id'])\r\n                }\r\n            })\r\n    };\r\n\r\n    const body = (\r\n        <div className={classes.paper}>\r\n            <p id=\"simple-modal-description\">\r\n                Pick keywords\r\n            </p>\r\n            <Autocomplete\r\n                multiple\r\n                id=\"keywords-select\"\r\n                options={keys}\r\n                disableCloseOnSelect\r\n                getOptionLabel={(option) => option.key}\r\n                renderOption={(option, {selected}) => (\r\n                    <React.Fragment>\r\n                        <Checkbox\r\n                            icon={icon}\r\n                            checkedIcon={checkedIcon}\r\n                            style={{marginRight: 8}}\r\n                            checked={selected}\r\n                        />\r\n                        {option.key}\r\n                    </React.Fragment>\r\n                )}\r\n                style={{width: 500}}\r\n                renderInput={(params) => (\r\n                    <TextField {...params} variant=\"outlined\" label=\"Keywords\" placeholder=\"Bio\"/>\r\n                )}\r\n                onChange={(event, value) => {\r\n                    setSelected(value.map((d) => d.key).sort())\r\n                }}\r\n            />\r\n            <Route render={({history}) => (\r\n                <Button\r\n                    onClick={() => {\r\n                        const searchString = selected.join(',');\r\n                        goToSpace({history, searchString});\r\n                    }}\r\n                >\r\n                    Search\r\n                </Button>\r\n            )}/>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleOpen}\r\n                color=\"inherit\"\r\n            >\r\n                <SearchIcon />\r\n            </IconButton>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"simple-modal-title\"\r\n                aria-describedby=\"simple-modal-description\"\r\n                className={classes.modal}\r\n            >\r\n                {body}\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ModalSearch;\r\n","// only with pure configuration it's easy to replicate graphs such as\r\n// http://bl.ocks.org/eesur/be2abfb3155a38be4de4 using react-d3-graph\r\nimport React from \"react\";;\r\n\r\nconst data = {\r\n    links: [\r\n        // Groups\r\n        {\r\n            source: \"Marvel\",\r\n            target: \"Heroes\",\r\n        },\r\n        {\r\n            source: \"Marvel\",\r\n            target: \"Villains\",\r\n        },\r\n        {\r\n            source: \"Marvel\",\r\n            target: \"Teams\",\r\n        },\r\n        // Heroes\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"Spider-Man\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"CAPTAIN MARVEL\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"HULK\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"Black Widow\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"Daredevil\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"Wolverine\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"Captain America\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"Iron Man\",\r\n        },\r\n        {\r\n            source: \"Heroes\",\r\n            target: \"THOR\",\r\n        },\r\n        // Villains\r\n        {\r\n            source: \"Villains\",\r\n            target: \"Dr. Doom\",\r\n        },\r\n        {\r\n            source: \"Villains\",\r\n            target: \"Mystique\",\r\n        },\r\n        {\r\n            source: \"Villains\",\r\n            target: \"Red Skull\",\r\n        },\r\n        {\r\n            source: \"Villains\",\r\n            target: \"Ronan\",\r\n        },\r\n        {\r\n            source: \"Villains\",\r\n            target: \"Magneto\",\r\n        },\r\n        {\r\n            source: \"Villains\",\r\n            target: \"Thanos\",\r\n        },\r\n        {\r\n            source: \"Villains\",\r\n            target: \"Black Cat\",\r\n        },\r\n        // Teams\r\n        {\r\n            source: \"Teams\",\r\n            target: \"Avengers\",\r\n        },\r\n        {\r\n            source: \"Teams\",\r\n            target: \"Guardians of the Galaxy\",\r\n        },\r\n        {\r\n            source: \"Teams\",\r\n            target: \"Defenders\",\r\n        },\r\n        {\r\n            source: \"Teams\",\r\n            target: \"X-Men\",\r\n        },\r\n        {\r\n            source: \"Teams\",\r\n            target: \"Fantastic Four\",\r\n        },\r\n        {\r\n            source: \"Teams\",\r\n            target: \"Inhumans\",\r\n        },\r\n    ],\r\n    nodes: [\r\n        // Groups\r\n        {\r\n            id: \"Marvel\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/marvel.png\",\r\n            size: 500,\r\n            fontSize: 18,\r\n        },\r\n        {\r\n            id: \"Heroes\",\r\n            symbolType: \"circle\",\r\n            color: \"red\",\r\n            size: 300,\r\n        },\r\n        {\r\n            id: \"Villains\",\r\n            symbolType: \"circle\",\r\n            color: \"red\",\r\n            size: 300,\r\n        },\r\n        {\r\n            id: \"Teams\",\r\n            symbolType: \"circle\",\r\n            color: \"red\",\r\n            size: 300,\r\n        },\r\n        // Heroes\r\n        {\r\n            id: \"Spider-Man\",\r\n            name: \"Peter Benjamin Parker\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_spiderman.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"CAPTAIN MARVEL\",\r\n            name: \"Carol Danvers\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainmarvel.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"HULK\",\r\n            name: \"Robert Bruce Banner\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_hulk.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Black Widow\",\r\n            name: \"Natasha Alianovna Romanova\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_blackwidow.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Daredevil\",\r\n            name: \"Matthew Michael Murdock\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_daredevil.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Wolverine\",\r\n            name: \"James Howlett\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_wolverine.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Captain America\",\r\n            name: \"Steven Rogers\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainamerica.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Iron Man\",\r\n            name: \"Tony Stark\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_ironman.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"THOR\",\r\n            name: \"Thor Odinson\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_thor.png\",\r\n            size: 400,\r\n        },\r\n        // Villains\r\n        {\r\n            id: \"Dr. Doom\",\r\n            name: \"Victor von Doom\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/drdoom.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Mystique\",\r\n            name: \"Unrevealed\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/mystique.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Red Skull\",\r\n            name: \"Johann Shmidt\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/redskull.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Ronan\",\r\n            name: \"Ronan\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/ronan.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Magneto\",\r\n            name: \"Max Eisenhardt\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/magneto.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Thanos\",\r\n            name: \"Thanos\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/thanos.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Black Cat\",\r\n            name: \"Felicia Hardy\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/blackcat.png\",\r\n            size: 400,\r\n        },\r\n        // Teams\r\n        {\r\n            id: \"Avengers\",\r\n            name: \"\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/avengers.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Guardians of the Galaxy\",\r\n            name: \"\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/gofgalaxy.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Defenders\",\r\n            name: \"\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/defenders.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"X-Men\",\r\n            name: \"\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/xmen.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Fantastic Four\",\r\n            name: \"\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/fantasticfour.png\",\r\n            size: 400,\r\n        },\r\n        {\r\n            id: \"Inhumans\",\r\n            name: \"\",\r\n            svg: \"http://marvel-force-chart.surge.sh/marvel_force_chart_img/inhumans.png\",\r\n            size: 400,\r\n        },\r\n    ],\r\n};\r\n\r\nexport default data;\r\n","import React, {useState} from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport {\r\n    Toolbar, Menu, MenuItem, IconButton\r\n} from \"@material-ui/core\";\r\n\r\nfunction MainRouteIcon ({home=false, className=\"\"}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <IconButton edge=\"start\" className={className} color=\"inherit\" aria-label=\"menu\"\r\n                        aria-controls=\"simple-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n                <DonutLargeIcon/>\r\n            </IconButton>\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                <MenuItem onClick={handleClose}>\r\n                    <Link to=\"/\">Root</Link>\r\n                </MenuItem>\r\n                {home ? <MenuItem onClick={handleClose}>\r\n                    <Link to=\"/home\">Home</Link>\r\n                </MenuItem> : null}\r\n            </Menu>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default MainRouteIcon;\r\n","import React, {useState} from 'react';\r\nimport BubbleChartIcon from '@material-ui/icons/BubbleChart';\r\nimport MultilineChartIcon from '@material-ui/icons/MultilineChart';\r\nimport TableChartRoundedIcon from '@material-ui/icons/TableChartRounded';\r\nimport {\r\n    Menu, MenuItem, IconButton, Typography,\r\n    Tooltip, Fade\r\n} from \"@material-ui/core\";\r\n\r\nfunction GraphViewIcon({value, setValue}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    function setVisualisation(val) {\r\n        handleClose()\r\n        setValue(val)\r\n    }\r\n\r\n    const showIcon = (name=null) => {\r\n        return <Tooltip title=\"Change view\" arrow TransitionComponent={Fade}><IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\"\r\n                           aria-controls=\"bubble-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n            {\r\n                value === 1 ? <TableChartRoundedIcon /> : value === 2 ? <MultilineChartIcon /> : <BubbleChartIcon />\r\n            }\r\n            {\r\n                name ? value === 1 ? \"table\" : value === 2 ? \"chart\" : \"graph\" : null\r\n            }\r\n        </IconButton></Tooltip>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            {showIcon()}\r\n            <Menu\r\n                id=\"bubble-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {value !== 0 ? <MenuItem onClick={() => {setVisualisation(0)}}>\r\n                    <BubbleChartIcon/>\r\n                    <Typography style={styles.menuItemText}>Graph</Typography>\r\n                </MenuItem> : null}\r\n                {value !== 1 ? <MenuItem onClick={() => {setVisualisation(1)}}>\r\n                    <TableChartRoundedIcon/>\r\n                    <Typography style={styles.menuItemText}>Table</Typography>\r\n                </MenuItem> : null}\r\n                {value !== 2 ? <MenuItem onClick={() => {setVisualisation(2)}}>\r\n                    <MultilineChartIcon/>\r\n                    <Typography style={styles.menuItemText}>Chart</Typography>\r\n                </MenuItem> : null}\r\n            </Menu>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    menuItemText: {\r\n        marginLeft: 3\r\n    }\r\n};\r\n\r\nexport default GraphViewIcon;\r\n","import React from 'react';\r\nimport {Route} from 'react-router-dom';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport {getUrl} from \"../res/urls\";\r\nimport {\r\n    Button, Checkbox, TextField,\r\n    FormHelperText, InputLabel, Input, FormControl\r\n} from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 10, 3),\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n}));\r\n\r\n\r\nfunction LoginModal({closed = true}) {\r\n    const loggedIn = localStorage.getItem(\"loggedIn\");\r\n    const classes = useStyles();\r\n    const [open, setOpen] = React.useState(!closed);\r\n    // true to login, false to register\r\n    const [loginOrRegister, setLoginOrRegister] = React.useState(true);\r\n    const [email, setEmail] = React.useState(\"\");\r\n    const [password, setPassword] = React.useState(\"\");\r\n    const [name, setName] = React.useState(\"\");\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const switchLoginOrRegister = () => {\r\n        setLoginOrRegister(!loginOrRegister);\r\n    };\r\n\r\n    const doLogin = () => {\r\n        fetch(\r\n            getUrl(\"users/login\"), {\r\n                method: 'post',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"email\": email,\r\n                    \"password\": password\r\n                })\r\n            })\r\n            .then(function (response) {\r\n                return response.json()\r\n            })\r\n            .then(function (data) {\r\n                if (data[\"email\"] === email) {\r\n                    localStorage.setItem(\"userInfo\", JSON.stringify(data))\r\n                    localStorage.setItem(\"loggedIn\", \"true\")\r\n                    setOpen(false)\r\n                }\r\n            })\r\n    };\r\n\r\n    const doRegister = () => {\r\n        fetch(\r\n            getUrl(\"users/register\"), {\r\n                method: 'post',\r\n                headers: {\r\n                    'Accept': 'application/json',\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    \"email\": email,\r\n                    \"password\": password,\r\n                    \"name\": name\r\n                })\r\n            })\r\n            .then(function (response) {\r\n                return response.json()\r\n            })\r\n            .then(function (data) {\r\n                if (data[\"email\"] === email) {\r\n                    localStorage.setItem(\"userInfo\", JSON.stringify(data))\r\n                    localStorage.setItem(\"loggedIn\", \"true\")\r\n                    setOpen(false)\r\n                }\r\n            })\r\n    };\r\n\r\n    const logoutBody = (\r\n        <div className={classes.paper}>\r\n            <FormControl>\r\n                <FormHelperText>Are you sure you want to logout?</FormHelperText>\r\n                <Route render={({history}) => (\r\n                    <Button onClick={() => {\r\n                        localStorage.removeItem(\"loggedIn\")\r\n                        setOpen(false)\r\n                        history.push('/')\r\n                    }}\r\n                    >\r\n                        Yes\r\n                    </Button>\r\n                )}/>\r\n            </FormControl>\r\n        </div>\r\n    );\r\n    const loginBody = (\r\n        <div className={classes.paper}>\r\n            <FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"email\">Email address</InputLabel>\r\n                    <Input id=\"email\" type=\"email\" aria-describedby=\"Enter institution email address\"\r\n                           onChange={(event) => {\r\n                               setEmail(event.target.value)\r\n                           }}\r\n                    />\r\n                </FormControl>\r\n                <FormControl>\r\n                    <InputLabel htmlFor=\"pass\">Password</InputLabel>\r\n                    <Input id=\"pass\" type=\"password\" aria-describedby=\"Enter password\"\r\n                           onChange={(event) => {\r\n                               setPassword(event.target.value)\r\n                           }}/>\r\n                </FormControl>\r\n                {\r\n                    !loginOrRegister ? <FormControl>\r\n                        <InputLabel htmlFor=\"name\">Full name</InputLabel>\r\n                        <Input id=\"name\" aria-describedby=\"Enter full name\"\r\n                               onChange={(event) => {\r\n                                   setName(event.target.value)\r\n                               }}/>\r\n                    </FormControl> : null\r\n                }\r\n                <FormControl>\r\n                    <FormHelperText onClick={switchLoginOrRegister}>\r\n                        {\r\n                            loginOrRegister ? \"Don't have an account? Click here to register..\" : \"I have an account, click here to login..\"\r\n                        }\r\n                    </FormHelperText>\r\n                </FormControl>\r\n                <FormControl>\r\n                    <Button onClick={loginOrRegister ? doLogin : doRegister}>{\r\n                        loginOrRegister ? \"Login\" : \"Register\"\r\n                    }</Button>\r\n                </FormControl>\r\n            </FormControl>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <div>\r\n            <text onClick={handleOpen}>{!loggedIn ? \"Login\" : \"Logout\"}</text>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"login-modal-title\"\r\n                aria-describedby=\"login-modal-description\"\r\n                className={classes.modal}\r\n            >\r\n                {loggedIn ? logoutBody : loginBody}\r\n            </Modal>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LoginModal;\r\n","import React, {useState} from 'react';\r\nimport LoginModal from \"../pages/LoginModal\";\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport {\r\n    Menu, MenuItem, IconButton, Typography, Toolbar\r\n} from \"@material-ui/core\";\r\n\r\nfunction AccountIcon({value, setValue}) {\r\n    const [anchorAccount, setAnchorAccount] = React.useState(null);\r\n    const handleAccountClick = (event) => {\r\n        setAnchorAccount(event.currentTarget);\r\n    };\r\n\r\n    const handleAccountClose = () => {\r\n        setAnchorAccount(null);\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            <IconButton\r\n                aria-label=\"account of current user\"\r\n                aria-controls=\"account-menu\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleAccountClick}\r\n                color=\"inherit\"\r\n            >\r\n                <AccountCircle/>\r\n            </IconButton>\r\n            <Menu\r\n                id=\"account-menu\"\r\n                anchorEl={anchorAccount}\r\n                keepMounted\r\n                open={Boolean(anchorAccount)}\r\n                onClose={handleAccountClose}\r\n            >\r\n                <MenuItem onClick={handleAccountClose}>\r\n                    <LoginModal/>\r\n                </MenuItem>\r\n            </Menu>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AccountIcon;\r\n","import React from \"react\";\r\nimport {fetchUrl} from \"./urls\";\r\nimport {node} from \"prop-types\";\r\n\r\n\r\nexport function convertId(givenId) {\r\n    let id = givenId;\r\n    if (id.startsWith('doi:/')) {\r\n        id = id.replace(\"doi:/\", \"https://doi.org\")\r\n    } else if (id.startsWith('pubmed:/')) {\r\n        id = id.replace('pubmed:/', 'https://pubmed.ncbi.nlm.nih.gov')\r\n    }\r\n    return id;\r\n}\r\n\r\nexport function convertToGraphData(info) {\r\n    let nodes = Array();\r\n    for (let key in info[\"nodes\"]) {\r\n        let currentNode = info[\"nodes\"][key];\r\n        if (currentNode[\"type\"] === \"paper\") {\r\n            currentNode[\"url\"] = currentNode[\"id\"]\r\n            if (currentNode[\"url\"].startsWith(\"doi:/\")) {\r\n                currentNode[\"url\"] = currentNode[\"url\"].replace(\"doi:/\", \"https://doi.org\")\r\n            } else if (currentNode[\"url\"].startsWith(\"pubmed:/\")) {\r\n                currentNode[\"url\"] = currentNode[\"url\"].replace('pubmed:/', 'https://pubmed.ncbi.nlm.nih.gov')\r\n            }\r\n        }\r\n        if (!(\"name\" in currentNode)) {\r\n            currentNode[\"name\"] = currentNode[\"id\"]\r\n        }\r\n        nodes.push(currentNode);\r\n    }\r\n    let relations = Array();\r\n    for (let dst in info[\"relationships\"]) {\r\n        for (let src in info[\"relationships\"][dst]) {\r\n            relations.push({\r\n                source: src,\r\n                target: dst,\r\n                type: info[\"relationships\"][dst][src]\r\n            });\r\n        }\r\n    }\r\n    return {\r\n        links: relations,\r\n        nodes: nodes\r\n    }\r\n}\r\n\r\nexport function fetchGraphData(space_id, setData) {\r\n    fetchUrl(\"space\", {\r\n        \"id\": space_id\r\n    }, (data) => {\r\n        const keys = data['keys']\r\n        fetchUrl(\"graph/sub?keys=\" + keys, null, (info) => {\r\n            info = info[\"info\"];\r\n            setData(convertToGraphData(info));\r\n        }, null, \"get\")\r\n    })\r\n}\r\n\r\nexport function addDois(doiList, callback, keys = [], err = null) {\r\n    let body = {\r\n        \"doi\": doiList\r\n    };\r\n    if(keys.length > 0) {\r\n        body[\"keys\"] = keys\r\n    }\r\n    fetchUrl(\"add_dois\", body, (data) => {\r\n        callback(data[\"info\"]);\r\n    }, err)\r\n}\r\n\r\nexport function filterByType(data, infoType) {\r\n    if (infoType === 0) {\r\n        infoType = \"paper\"\r\n    } else if (infoType === 1) {\r\n        infoType = \"field\"\r\n    } else if (infoType === 2) {\r\n        infoType = \"connections\"\r\n    }\r\n    let newData = JSON.parse(JSON.stringify(data));\r\n    newData[\"nodes\"] = newData[\"nodes\"].filter(nodeInfo => nodeInfo[\"type\"] === infoType)\r\n    return newData;\r\n}\r\n\r\nexport function filterByRules(data, rules) {\r\n    let nodeIds = {};\r\n    data[\"nodes\"] = data[\"nodes\"].filter((item) => {\r\n        if (item[\"type\"] === \"field\") {\r\n            if (\"keys\" in rules && !(item[\"id\"] in rules[\"keys\"])) {\r\n                return false;\r\n            }\r\n            nodeIds[item[\"id\"]] = true;\r\n            return true;\r\n        }\r\n        if (item[\"type\"] !== \"paper\") {\r\n            return false;\r\n        }\r\n        if (\"title\" in rules) {\r\n            let elem = item[\"name\"] || item[\"id\"] || \"\";\r\n            let found = false;\r\n            for (let i = 0; i < rules[\"title\"].length; i++) {\r\n                if (elem.indexOf(rules[\"title\"][i]) !== -1) {\r\n                    found = true\r\n                    break\r\n                }\r\n            }\r\n            if (!found) {\r\n                return false;\r\n            }\r\n        }\r\n        if (\"types\" in rules && !(item[\"t\"] in [...rules[\"types\"], \"0\", \"1\"])) {\r\n            return false;\r\n        }\r\n        if (\"dates\" in rules) {\r\n            let paperDate = null;\r\n            if (\"ts\" in item) {\r\n                paperDate = new Date(parseInt(item[\"ts\"]));\r\n            } else if (\"y\" in item) {\r\n                paperDate = new Date(0, 0, 1, 0, 0);\r\n                paperDate.setYear(parseInt(item[\"y\"]));\r\n            } else {\r\n                return false;\r\n            }\r\n            if (!(paperDate >= rules[\"dates\"][0] && paperDate <= rules[\"dates\"][1])) {\r\n                return false;\r\n            }\r\n        }\r\n        nodeIds[item[\"id\"]] = true\r\n        return true;\r\n    })\r\n    data[\"links\"] = data[\"links\"].filter((item) => {\r\n        return item[\"source\"] in nodeIds && item[\"target\"] in nodeIds\r\n    })\r\n    return data;\r\n}\r\n","import React, {useEffect, useState, useCallback, useRef} from 'react';\r\nimport {ForceGraph3D} from \"react-force-graph\";\r\nimport {\r\n    Typography, Menu, MenuItem,\r\n    IconButton, Icon\r\n} from \"@material-ui/core\";\r\nimport {useSnackbar} from 'notistack';\r\nimport {convertId} from \"../res/data\";\r\nimport FilterCenterFocusIcon from '@material-ui/icons/FilterCenterFocus';\r\nimport OpenInBrowserIcon from '@material-ui/icons/OpenInBrowser';\r\nimport FileCopyIcon from \"@material-ui/icons/FileCopy\";\r\n\r\nfunction GraphVisualisation({data, position, width = 500}) {\r\n    const fgRef = useRef();\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    const [coordinates, setCoordinates] = useState([20, 20]);\r\n    const [openNodeMenu, setOpenNodeMenu] = useState(false);\r\n    const [currentNode, setCurrentNode] = useState(null);\r\n\r\n    useEffect(() => {\r\n        setCoordinates([position.x, position.y]);\r\n    }, [openNodeMenu])\r\n\r\n    const closeNodeMenu = () => {\r\n        setOpenNodeMenu(false);\r\n    };\r\n\r\n    const focusNode = useCallback(node => {\r\n        // Aim at node from outside it\r\n        const distance = 40;\r\n        const distRatio = 1 + distance / Math.hypot(node.x, node.y, node.z);\r\n\r\n        fgRef.current.cameraPosition(\r\n            {x: node.x * distRatio, y: node.y * distRatio, z: node.z * distRatio}, // new position\r\n            node, // lookAt ({ x, y, z })\r\n            3000  // ms transition duration\r\n        );\r\n    }, [fgRef]);\r\n\r\n    function showNodeMenu(node) {\r\n        return (\r\n            <Menu\r\n                id=\"simple-menu\"\r\n                anchorEl={openNodeMenu}\r\n                keepMounted\r\n                open={Boolean(openNodeMenu)}\r\n                onClose={closeNodeMenu}\r\n                style={{\r\n                    position: \"absolute\",\r\n                    left: coordinates[0],\r\n                    top: coordinates[1]\r\n                }}\r\n                getContentAnchorEl={null}\r\n            >\r\n                <MenuItem\r\n                            onClick={(event) => {\r\n                                let id = convertId(currentNode.id);\r\n                                navigator.clipboard.writeText(id);\r\n                                closeNodeMenu()\r\n                                enqueueSnackbar(\"Copied doi: \" + id);\r\n                            }}>\r\n                    <FileCopyIcon/>\r\n                    <Typography>Copy url</Typography>\r\n                </MenuItem>\r\n                <MenuItem\r\n                    onClick={(event) => {\r\n                        let url = convertId(currentNode.id);\r\n                        closeNodeMenu()\r\n                        window.open(url, \"_blank\");\r\n                    }}>\r\n                    <OpenInBrowserIcon/>\r\n                    <Typography>Open url</Typography>\r\n                </MenuItem>\r\n                <MenuItem\r\n                    onClick={(event) => {\r\n                        closeNodeMenu()\r\n                        focusNode(currentNode);\r\n                    }}>\r\n                    <FilterCenterFocusIcon/>\r\n                    <Typography>Focus node</Typography>\r\n                </MenuItem>\r\n            </Menu>\r\n        );\r\n    }\r\n\r\n    const handleClick = useCallback(node => {\r\n        setCurrentNode(node);\r\n        setOpenNodeMenu(true);\r\n    }, [fgRef]);\r\n\r\n    return (\r\n        <div>\r\n            <ForceGraph3D\r\n                ref={fgRef}\r\n                graphData={data}\r\n                linkWidth={2}\r\n                width={width}\r\n                onNodeClick={handleClick}\r\n            />\r\n            {showNodeMenu()}\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {};\r\n\r\nexport default GraphVisualisation;\r\n","import React, {useState} from 'react';\r\nimport InsertDriveFileIcon from '@material-ui/icons/InsertDriveFile';\r\nimport TextFieldsIcon from '@material-ui/icons/TextFields';\r\nimport SettingsEthernetIcon from '@material-ui/icons/SettingsEthernet';\r\nimport {\r\n    Menu, MenuItem, IconButton, Typography\r\n} from \"@material-ui/core\";\r\n\r\nfunction TableViewIcon({value, setValue}) {\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null);\r\n    };\r\n\r\n    function setVisualisation(val) {\r\n        handleClose()\r\n        setValue(val)\r\n    }\r\n\r\n    const showIcon = (name=null) => {\r\n        return <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\"\r\n                           aria-controls=\"table-menu\" aria-haspopup=\"true\" onClick={handleClick}>\r\n            {\r\n                value === 1 ? (<TextFieldsIcon />) : value === 2 ? <SettingsEthernetIcon /> : <InsertDriveFileIcon />\r\n            }\r\n            {\r\n                name ? value === 1 ? \"table\" : value === 2 ? \"chart\" : \"graph\" : null\r\n            }\r\n        </IconButton>\r\n    }\r\n\r\n    return (\r\n        <div style={{paddingLeft: 10}}>\r\n            {showIcon()}\r\n            <Menu\r\n                id=\"table-menu\"\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleClose}\r\n            >\r\n                {value !== 0 ? <MenuItem onClick={() => {setVisualisation(0)}}>\r\n                    <InsertDriveFileIcon/>\r\n                    <Typography style={styles.menuItemText}>Papers</Typography>\r\n                </MenuItem> : null}\r\n                {value !== 1 ? <MenuItem onClick={() => {setVisualisation(1)}}>\r\n                    <TextFieldsIcon/>\r\n                    <Typography style={styles.menuItemText}>Fields</Typography>\r\n                </MenuItem> : null}\r\n                {value !== 2 ? <MenuItem onClick={() => {setVisualisation(2)}}>\r\n                    <SettingsEthernetIcon/>\r\n                    <Typography style={styles.menuItemText}>Connections</Typography>\r\n                </MenuItem> : null}\r\n            </Menu>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    menuItemText: {\r\n        marginLeft: 5\r\n    }\r\n};\r\n\r\nexport default TableViewIcon;\r\n","import React, {useEffect, useState, useCallback, useRef} from 'react';\r\nimport {withStyles, makeStyles, fade} from '@material-ui/core/styles';\r\nimport {\r\n    Table, TableBody, TableCell,\r\n    TableRow, TableHead, TableContainer,\r\n    Paper, Typography, Grid, InputBase, Link\r\n} from \"@material-ui/core\";\r\nimport {filterByType} from \"../res/data\";\r\nimport TableViewIcon from \"../icons/TableViewIcon\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\n\r\nconst StyledTableCell = withStyles((theme) => ({\r\n    head: {\r\n        backgroundColor: theme.palette.common.black,\r\n        color: theme.palette.common.white,\r\n    },\r\n    body: {\r\n        fontSize: 14,\r\n    },\r\n}))(TableCell);\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n    root: {\r\n        '&:nth-of-type(odd)': {\r\n            backgroundColor: theme.palette.action.hover,\r\n        },\r\n    },\r\n}))(TableRow);\r\n\r\nconst StyledPaper = withStyles((theme) => ({\r\n    root: {\r\n        // backgroundColor: '#212121'\r\n    }\r\n}))(Paper);\r\n\r\nfunction getPapersCellsFrom(data) {\r\n    return filterByType(data, \"paper\")[\"nodes\"].map((row) => (\r\n        <StyledTableRow key={row.id}>\r\n            <StyledTableCell component=\"th\" scope=\"row\">\r\n                <Link href={row.url} target=\"_blank\">\r\n                    {row.id}\r\n                </Link>\r\n            </StyledTableCell>\r\n            <StyledTableCell align=\"right\">-</StyledTableCell>\r\n            <StyledTableCell align=\"right\">{row.y}</StyledTableCell>\r\n            <StyledTableCell align=\"right\">-</StyledTableCell>\r\n        </StyledTableRow>\r\n    ))\r\n}\r\n\r\nfunction getFieldsCellsFrom(data) {\r\n    console.log(data);\r\n    return filterByType(data, \"field\")[\"nodes\"].map((row) => (\r\n        <StyledTableRow key={row.id}>\r\n            <StyledTableCell component=\"th\" scope=\"row\">{row.id}</StyledTableCell>\r\n            <StyledTableCell\r\n                align=\"right\">{(data[\"links\"] || []).filter(item => item[\"target\"] == row.id).length}</StyledTableCell>\r\n            <StyledTableCell align=\"right\">-</StyledTableCell>\r\n        </StyledTableRow>\r\n    ))\r\n}\r\n\r\nfunction getConnectionsCellsFrom(data) {\r\n\r\n}\r\n\r\nfunction TableVisualisation({data, width = 500, maxHeight = window.innerHeight}) {\r\n    const classes = useStyles();\r\n    const [tableType, setTableType] = useState(0);\r\n\r\n    const headerNames = {\r\n        0: [[\"Id\", {}], [\"Title\", {align: \"right\"}],\r\n            [\"Date\", {align: \"right\"}], [\"Opt\", {align: \"right\"}]],\r\n        1: [[\"Name\", {}], [\"Connections\", {align: \"right\"}], [\"Opt\", {align: \"right\"}]],\r\n        2: [[\"From\", {}], [\"Name\", {}], [\"To\", {}]]\r\n    };\r\n\r\n    const tableCells = {\r\n        0: getPapersCellsFrom,\r\n        1: getFieldsCellsFrom,\r\n        2: getConnectionsCellsFrom\r\n    }\r\n\r\n    return (\r\n        <TableContainer component={Paper} style={{width: width, maxHeight: maxHeight}}>\r\n            <Grid container\r\n                  spacing={3}\r\n                  justify={\"space-between\"}\r\n                  alignItems={\"center\"}\r\n            >\r\n                <Grid item xs={3}>\r\n                    <TableViewIcon\r\n                        value={tableType}\r\n                        setValue={setTableType}\r\n                    />\r\n                </Grid>\r\n                <Grid item xs={3}>\r\n                    <div className={classes.search}>\r\n                        <div className={classes.searchIcon}>\r\n                            <SearchIcon/>\r\n                        </div>\r\n                        <InputBase\r\n                            placeholder=\"Search…\"\r\n                            classes={{\r\n                                root: classes.inputRoot,\r\n                                input: classes.inputInput,\r\n                            }}\r\n                            inputProps={{'aria-label': 'search'}}\r\n                        />\r\n                    </div>\r\n                </Grid>\r\n            </Grid>\r\n            <Table stickyHeader aria-label=\"data-table\">\r\n                <TableHead>\r\n                    {headerNames[tableType].map((header) => (\r\n                        <StyledTableCell align={header[1][\"align\"]}>{header[0]}</StyledTableCell>\r\n                    ))}\r\n                </TableHead>\r\n                <TableBody>\r\n                    {tableCells[tableType](data)}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(2),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n        display: 'none',\r\n        [theme.breakpoints.up('sm')]: {\r\n            display: 'block',\r\n        },\r\n    },\r\n    search: {\r\n        position: 'relative',\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(1),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        padding: theme.spacing(0, 2),\r\n        height: '100%',\r\n        position: 'absolute',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        // vertical padding + font size from searchIcon\r\n        paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            width: '12ch',\r\n            '&:focus': {\r\n                width: '20ch',\r\n            },\r\n        },\r\n    },\r\n}));\r\n\r\nexport default TableVisualisation;\r\n","import React, {useState, useEffect} from 'react';\r\nimport {\r\n    InputBase, IconButton, Fade, Tooltip, Input,\r\n    Modal, FormControl, InputLabel, FormHelperText,\r\n    Select, MenuItem, Checkbox, ListItemText,\r\n    Grid, Button,\r\n    Table, TableBody, TableCell,\r\n    TableRow, TableHead, TableContainer,\r\n    Paper, Typography\r\n} from \"@material-ui/core\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n    MuiPickersUtilsProvider,\r\n    KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport {makeStyles} from \"@material-ui/core/styles\";\r\nimport TableVisualisation from \"../visualisations/TableVisualisation\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 10, 3),\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }\r\n}));\r\n\r\nfunction FilterDataModal({data, setFilterRules, allData}) {\r\n    const classes = useStyles();\r\n    const [open, setOpen] = useState(false);\r\n    const [paperTypes, setPaperTypes] = useState([]);\r\n    const [allPaperTypes, setAllPaperTypes] = useState([\"s1\", \"s2\", \"s3\"]);\r\n    const [fields, setFields] = useState([]);\r\n    const [queryText, setQueryText] = useState(\"\");\r\n    const [allFields, setAllFields] = useState([\"f1\", \"f2\", \"f3\"]);\r\n    const [fromDate, setFromDate] = useState(new Date('2014-08-18T21:11:54'));\r\n    const [untilDate, setUntilDate] = useState(new Date());\r\n    const [initialDates, setInitialDates] = useState([]);\r\n\r\n    const updateDefaults = () => {\r\n        try {\r\n            let types = {};\r\n            allData[\"nodes\"].forEach((item) => {\r\n                if (\"t\" in item) {\r\n                    if (!(item[\"t\"] in types) && !(item[\"t\"] in [\"1\", \"0\"])) {\r\n                        types[item[\"t\"]] = true\r\n                    }\r\n                }\r\n            })\r\n            setAllPaperTypes(Object.keys(types));\r\n            let myFields = {};\r\n            allData[\"nodes\"].filter((item) => {\r\n                return item[\"type\"] === \"field\"\r\n            }).forEach((item) => {\r\n                myFields[item[\"id\"]] = true\r\n            })\r\n            setAllFields(Object.keys(myFields));\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        // setup variables - all paper types, etc..\r\n        updateDefaults()\r\n        setInitialDates([new Date(fromDate.getTime()), new Date(untilDate.getTime())]);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        // when data changes, update infos\r\n        updateDefaults()\r\n    }, [allData]);\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleChangeTypes = (event) => {\r\n        setPaperTypes(event.target.value);\r\n    };\r\n\r\n    const handleChangeFields = (event) => {\r\n        setFields(event.target.value);\r\n    };\r\n\r\n    const getFilter = () => {\r\n        let filterData = {};\r\n        if (queryText.length > 0) {\r\n            filterData[\"title\"] = queryText.substr(0, queryText.length).split(' ')\r\n                .filter((item) => {return item.length > 0}).map((item) => {\r\n                    return item.toLowerCase();\r\n                });\r\n        }\r\n        if (paperTypes.length > 0) {\r\n            filterData[\"types\"] = [...paperTypes];\r\n        }\r\n        if (fields.length > 0) {\r\n            filterData[\"keys\"] = [...fields];\r\n        }\r\n        if (fromDate.getTime() !== initialDates[0].getTime() ||\r\n            untilDate.getTime() !== initialDates[1].getTime()) {\r\n            filterData[\"dates\"] = [new Date(fromDate.getTime()), new Date(untilDate.getTime())];\r\n        }\r\n        return filterData;\r\n    };\r\n\r\n    const saveFilter = () => {\r\n        const filterRules = getFilter();\r\n        setFilterRules(filterRules);\r\n    };\r\n\r\n    const body = (\r\n        <div className={classes.paper}>\r\n            <Grid container justify={\"center\"}>\r\n                <FormControl>\r\n                    <FormControl>\r\n                        <InputLabel htmlFor=\"key-search\">Search</InputLabel>\r\n                        <Input\r\n                            id=\"key-search\"\r\n                            aria-describedby=\"search\"\r\n                            inputProps={{'aria-label': 'search'}}\r\n                            onChange={(event) => {\r\n                                setQueryText(event.target.value)\r\n                            }}\r\n                        />\r\n                    </FormControl>\r\n                    {allPaperTypes.length > 0 ? (\r\n                        <FormControl style={{marginTop: 5}}>\r\n                            <InputLabel shrink id=\"paper-type-label\">Item type</InputLabel>\r\n                            <Select\r\n                                labelId=\"paper-type-label\"\r\n                                id=\"paper-type\"\r\n                                multiple\r\n                                value={paperTypes}\r\n                                onChange={handleChangeTypes}\r\n                                input={<Input/>}\r\n                                renderValue={(selected) => selected.join(', ')}\r\n                                // MenuProps={MenuProps}\r\n                            >\r\n                                {allPaperTypes.map((name) => (\r\n                                    <MenuItem key={name} value={name}>\r\n                                        <Checkbox checked={paperTypes.indexOf(name) > -1}/>\r\n                                        <ListItemText primary={name}/>\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl>\r\n                    ) : null}\r\n                    <FormControl>\r\n                        <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                            <Grid container justify=\"space-around\">\r\n                                <KeyboardDatePicker\r\n                                    disableToolbar\r\n                                    variant=\"inline\"\r\n                                    format=\"MM/dd/yyyy\"\r\n                                    margin=\"normal\"\r\n                                    id=\"date-picker-inline\"\r\n                                    label=\"From date\"\r\n                                    value={fromDate}\r\n                                    onChange={setFromDate}\r\n                                    KeyboardButtonProps={{\r\n                                        'aria-label': 'change date',\r\n                                    }}\r\n                                />\r\n                                <KeyboardDatePicker\r\n                                    disableToolbar\r\n                                    variant=\"inline\"\r\n                                    format=\"MM/dd/yyyy\"\r\n                                    margin=\"normal\"\r\n                                    id=\"until-date-picker-inline\"\r\n                                    label=\"Until date\"\r\n                                    value={untilDate}\r\n                                    onChange={setUntilDate}\r\n                                    KeyboardButtonProps={{\r\n                                        'aria-label': 'change date',\r\n                                    }}\r\n                                />\r\n                            </Grid>\r\n                        </MuiPickersUtilsProvider>\r\n                    </FormControl>\r\n                    {allFields.length > 0 ? <FormControl style={{paddingTop: 1}}>\r\n                        <InputLabel shrink id=\"paper-type-label\">Fields</InputLabel>\r\n                        <Select\r\n                            labelId=\"paper-type-label\"\r\n                            id=\"paper-type\"\r\n                            multiple\r\n                            value={fields}\r\n                            onChange={handleChangeFields}\r\n                            input={<Input/>}\r\n                            renderValue={(selected) => selected.join(', ')}\r\n                            // MenuProps={MenuProps}\r\n                        >\r\n                            {allFields.map((name) => (\r\n                                <MenuItem key={name} value={name}>\r\n                                    <Checkbox checked={fields.indexOf(name) > -1}/>\r\n                                    <ListItemText primary={name}/>\r\n                                </MenuItem>\r\n                            ))}\r\n                        </Select>\r\n                    </FormControl> : null}\r\n                    <FormControl style={{marginTop: 5}}>\r\n                        <Button variant=\"contained\" onClick={saveFilter}>Save</Button>\r\n                    </FormControl>\r\n                </FormControl>\r\n            </Grid>\r\n            <div style={{maxHeight: 300, marginTop: 10}}>\r\n                <TableVisualisation\r\n                    data={data}\r\n                    maxHeight={300}\r\n                    width={window.innerWidth * 0.7}\r\n                />\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title=\"Filter\" arrow TransitionComponent={Fade}>\r\n                <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\"\r\n                            onClick={handleOpen}>\r\n                    <FilterListIcon/>\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"filter-graph-data\"\r\n                aria-describedby=\"filter-graph-data-description\"\r\n                className={classes.modal}\r\n            >\r\n                {body}\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default FilterDataModal;\r\n","import React, {useEffect, useState, useCallback, useRef} from 'react';\r\nimport {withStyles, makeStyles, fade} from '@material-ui/core/styles';\r\nimport {\r\n    Paper, Typography, Grid, InputBase, Link,\r\n    IconButton, Checkbox\r\n} from \"@material-ui/core\";\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport FileCopyIcon from '@material-ui/icons/FileCopy';\r\nimport GetAppIcon from '@material-ui/icons/GetApp';\r\nimport {useSnackbar} from 'notistack';\r\n\r\nfunction getPaperBlock(data, enqueueSnackbar, checkedDois, setCheckedDois) {\r\n    function getAuthorsStr(inputAuthors) {\r\n        let authors = null;\r\n        if (inputAuthors.length > 0) {\r\n            authors = inputAuthors.join(\", \");\r\n            if (authors.length > 100) {\r\n                authors = authors.substr(0, 20)\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Grid item container component={Paper}>\r\n            <Grid item xs={12}>\r\n                <Typography display=\"block\">\r\n                    <Link href={data.link} target=\"_blank\">\r\n                        {data.title}\r\n                    </Link>\r\n                </Typography>\r\n            </Grid>\r\n            <Grid item xs={9} variant=\"overline\" display=\"block\">\r\n                <Typography>{data.authors.join(\", \").substr(0, 40)}</Typography>\r\n            </Grid>\r\n            <Grid item container xs={3} justify={\"flex-end\"} alignItems={\"flex-start\"} variant=\"overline\"\r\n                  display=\"block\">\r\n                <Typography>\r\n                    {new Intl.DateTimeFormat(\"en-GB\", {\r\n                        year: \"numeric\",\r\n                        month: \"long\",\r\n                        day: \"2-digit\"\r\n                    }).format(data.date)}\r\n                </Typography>\r\n            </Grid>\r\n            {\r\n                data.abstract ?\r\n                    <Grid item xs={12}>\r\n                        <Typography variant=\"caption\" display=\"block\">{data.abstract}</Typography>\r\n                    </Grid> : null\r\n            }\r\n            <Grid item container xs={6} alignItems={\"center\"}>\r\n                <Typography variant=\"caption\" display=\"block\">{data.type}</Typography>\r\n            </Grid>\r\n            <Grid item container xs={6} justify={\"flex-end\"} alignItems={\"flex-start\"}>\r\n                <IconButton edge=\"start\" color=\"inherit\"\r\n                            onClick={(event) => {\r\n                                window.open(data.download, \"_blank\");\r\n                            }}>\r\n                    <GetAppIcon/>\r\n                </IconButton>\r\n                <IconButton edge=\"start\" color=\"inherit\"\r\n                            onClick={(event) => {\r\n                                navigator.clipboard.writeText(data.doi);\r\n                                enqueueSnackbar(\"Copied doi: \" + data.doi);\r\n                            }}>\r\n                    <FileCopyIcon/>\r\n                </IconButton>\r\n                <Checkbox\r\n                    checked={checkedDois.indexOf(data.doi) !== -1}\r\n                    onChange={(event) => {\r\n                        let arr = [...checkedDois];\r\n                        const doi = data.doi;\r\n                        const index = checkedDois.indexOf(doi);\r\n                        if (index !== -1 && !event.target.checked) {\r\n                            arr.splice(index, 1);\r\n                            setCheckedDois(arr);\r\n                        } else if(index === -1 && event.target.checked) {\r\n                            arr.push(doi);\r\n                            setCheckedDois(arr);\r\n                        }\r\n                    }}\r\n                    inputProps={{ 'aria-label': 'uncontrolled-checkbox' }} />\r\n            </Grid>\r\n        </Grid>\r\n    );\r\n}\r\n\r\nfunction GridVisualisation({data, checkedDois, setCheckedDois}) {\r\n    const {enqueueSnackbar} = useSnackbar();\r\n\r\n    return (\r\n        <div style={{\r\n            paddingTop: 20,\r\n            width: window.innerWidth * 0.5,\r\n            maxHeight: window.innerHeight * 0.5,\r\n            overflow: \"auto\"\r\n        }}>\r\n            {\r\n                data.length ? (<Grid container spacing={3}>\r\n                    {data.map((paperInfo) => getPaperBlock(paperInfo, enqueueSnackbar, checkedDois, setCheckedDois))}\r\n                </Grid>) : null\r\n            }\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default GridVisualisation;\r\n","import React, {useState} from 'react';\r\n\r\nconst querystring = require('querystring');\r\n// const originalFetch = require('isomorphic-fetch');\r\n// const fetch = require('fetch-retry')(originalFetch, {\r\n//     retries: 5,\r\n//     retryDelay: 1000\r\n// });\r\nconst root = \"https://www.sciencedirect.com\";\r\nconst url = root + \"/search/api\"\r\nconst articleTypes = {\r\n    \"Review articles\": \"REV\",\r\n    \"Research articles\": \"FLA\",\r\n    \"Encyclopedia\": \"EN\",\r\n    \"Book chapters\": \"CH\",\r\n    \"Conference abstracts\": \"ABS\",\r\n    \"Book reviews\": \"BRV\",\r\n    \"Case reports\": \"CRP\",\r\n    \"Conference info\": \"CNF\",\r\n    \"Correspondence\": \"COR\",\r\n    \"Data articles\": \"DAT\",\r\n    \"Discussion\": \"DIS\",\r\n    \"Editorials\": \"EDI\",\r\n    \"Errata\": \"ERR\",\r\n    \"Examinations\": \"EXM\",\r\n    \"Mini reviews\": \"SSU\",\r\n    \"News\": \"NWS\",\r\n    \"Patent reports\": \"PNT\",\r\n    \"Practice guidelines\": \"PGL\",\r\n    \"Product reviews\": \"PRV\",\r\n    \"Replication studies\": \"RPL\",\r\n    \"Short communications\": \"SCO\",\r\n    \"Software publications\": \"OSP\",\r\n    \"Video articles\": \"VID\",\r\n    \"Other\": \"OT\"\r\n}\r\n// const reverseArticleTypes = Object.keys(articleTypes).reduce((ret, key) => {\r\n//     ret[articleTypes[key]] = key;\r\n//     return ret;\r\n// }, {});\r\nconst resultsPerPage = 20;\r\n\r\nfunction getScienceDirectUrl(link) {\r\n    if(link.startsWith(\"/\")) {\r\n        link = root + link;\r\n    }\r\n    return link;\r\n}\r\n\r\nfunction filterQuery(inputQuery) {\r\n    let query = {qs: inputQuery[\"text\"]};\r\n    if (inputQuery[\"date-range\"]) {\r\n        let date = \"\";\r\n        if (inputQuery[\"date-range\"][0] === inputQuery[\"date-range\"][1]) {\r\n            date = inputQuery[\"date-range\"][0].getFullYear().toString();\r\n        } else {\r\n            date = inputQuery[\"date-range\"][0].getFullYear().toString() +\r\n                \"-\" + inputQuery[\"date-range\"][1].getFullYear().toString();\r\n        }\r\n        query[\"date\"] = date;\r\n    }\r\n    for (let key in [\"authors\", \"affiliations\", \"title\", \"reference\"]) {\r\n        if (inputQuery[key]) {\r\n            query[key] = inputQuery[key]\r\n        }\r\n    }\r\n    if (inputQuery[\"types\"]) {\r\n        let types = inputQuery[\"types\"]\r\n            .filter((item) => item in articleTypes)\r\n            .map((item) => articleTypes[item]);\r\n        if (types.length > 0) {\r\n            query[\"articleTypes\"] = types.join(\",\");\r\n        }\r\n    }\r\n    query[\"show\"] = inputQuery[\"resultsPerPage\"] || resultsPerPage;\r\n    if (inputQuery[\"page\"]) {\r\n        query[\"offset\"] = query[\"show\"] * inputQuery[\"page\"];\r\n    }\r\n    if (inputQuery[\"specificKeywords\"]) {\r\n        query[\"tak\"] = inputQuery[\"specificKeywords\"]\r\n    }\r\n    return query\r\n}\r\n\r\nfunction filterResult(result, data) {\r\n    // get only a part of data from result\r\n    let info = {\"title\": result[\"title\"].replace(/<[^>]+>/g, ''),\r\n        \"doi\": result[\"doi\"]};\r\n    if(result[\"sortDate\"]) {\r\n        info[\"date\"] = new Date(result[\"sortDate\"]);\r\n    }\r\n    if((result[\"authors\"] || []).length > 0) {\r\n        info[\"authors\"] = [];\r\n        for(let i = 0; i < result[\"authors\"].length; i++) {\r\n            const authorInfo = result[\"authors\"][i];\r\n            if(authorInfo[\"order\"] === i) {\r\n                info[\"authors\"].push(authorInfo[\"name\"]);\r\n            }\r\n        }\r\n    }\r\n    if (result[\"articleType\"]) {\r\n        info[\"type\"] = result[\"articleTypeDisplayName\"];\r\n    }\r\n    if(result[\"score\"]) {\r\n        info[\"score\"] = result[\"score\"];\r\n    }\r\n    if(result[\"link\"]) {\r\n        info[\"link\"] = getScienceDirectUrl(result[\"link\"]);\r\n    }\r\n    if(result[\"pdf\"] && result[\"pdf\"][\"downloadLink\"]) {\r\n        info[\"download\"] = getScienceDirectUrl(result[\"pdf\"][\"downloadLink\"]);\r\n    }\r\n    return info;\r\n}\r\n\r\nexport function searchScienceDirect(query, addData) {\r\n    const myQuery = filterQuery(query);\r\n    const myUrl = url + \"?\" + querystring.stringify(myQuery);\r\n    console.log(myUrl);\r\n\r\n    fetch(myUrl, {\r\n        redirect: 'follow',\r\n        referrerPolicy: 'no-referrer'\r\n    })\r\n        .then(function (response) {\r\n            return response.json()\r\n        })\r\n        .then(function (data) {\r\n            addData(data[\"searchResults\"]\r\n                .map((item) => filterResult(item, data)));\r\n        })\r\n}","import React, {useState, useEffect} from 'react';\r\nimport {\r\n    InputBase, IconButton, Fade, Tooltip, Input,\r\n    Modal, FormControl, InputLabel, FormHelperText,\r\n    Select, MenuItem, Checkbox, ListItemText,\r\n    Grid, Button, Collapse, Paper, FormControlLabel, Switch,\r\n    Typography\r\n} from \"@material-ui/core\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport {\r\n    MuiPickersUtilsProvider,\r\n    KeyboardDatePicker,\r\n} from '@material-ui/pickers';\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport GridVisualisation from \"../visualisations/GridVisualisation\";\r\nimport {searchScienceDirect} from \"../apis/ScienceDirect\";\r\nimport {addDois} from \"../res/data\";\r\nimport {useSnackbar} from 'notistack';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n        backgroundColor: theme.palette.background.paper,\r\n        border: '2px solid #000',\r\n        boxShadow: theme.shadows[5],\r\n        padding: theme.spacing(2, 10, 3)\r\n    },\r\n    modal: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    }\r\n}));\r\n\r\nfunction SearchPapersModal({data, allData}) {\r\n    const classes = useStyles();\r\n    const {enqueueSnackbar} = useSnackbar();\r\n    const [open, setOpen] = useState(false);\r\n    const [showAdvanced, setShowAdvanced] = useState(false);\r\n    const [papers, setPapers] = useState([]);\r\n    const [pageNumber, setPageNumber] = useState(0);\r\n    const [queryText, setQueryText] = useState(\"\");\r\n    const [checkedDois, setCheckedDois] = useState([]);\r\n    const [showMore, setShowMore] = useState(false);\r\n    const [fromDate, setFromDate] = useState(new Date('1999-08-18T21:11:54'));\r\n    const [untilDate, setUntilDate] = useState(new Date());\r\n    const [query, setQuery] = useState({});\r\n    const [allFields, setAllFields] = useState([]);\r\n    const [fields, setFields] = useState([]);\r\n\r\n    const addPapers = (inputPapers) => {\r\n        if (inputPapers && inputPapers.length > 0) {\r\n            let myPapers = [...papers];\r\n            myPapers = myPapers.concat(inputPapers);\r\n            setPapers(myPapers);\r\n        }\r\n    };\r\n\r\n    const updateFields = () => {\r\n        try {\r\n            let myFields = {};\r\n            allData[\"nodes\"].filter((item) => {\r\n                return item[\"type\"] === \"field\"\r\n            }).forEach((item) => {\r\n                myFields[item[\"id\"]] = true\r\n            })\r\n            setAllFields(Object.keys(myFields));\r\n            // setFields(allFields);\r\n        } catch (e) {\r\n\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateFields()\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        updateFields()\r\n    }, [allData])\r\n\r\n    const getQuery = () => {\r\n        let myQuery = {\"text\": queryText.valueOf(), ...query};\r\n        myQuery[\"page\"] = pageNumber;\r\n        return myQuery;\r\n    };\r\n\r\n    function setQueryField(name, value) {\r\n        let myQuery = {...query};\r\n        myQuery[name] = value;\r\n        setQuery(myQuery);\r\n    }\r\n\r\n    function setDate() {\r\n        setQueryField(\"date-range\", [fromDate, untilDate]);\r\n    }\r\n\r\n    const searchPapers = (clear = true) => {\r\n        if (clear) {\r\n            setPapers([]);\r\n            setPageNumber(0);\r\n        }\r\n        const myQuery = getQuery();\r\n        searchScienceDirect(myQuery, addPapers);\r\n    };\r\n\r\n    const getMorePapers = () => {\r\n        setPageNumber(pageNumber + 1);\r\n        searchPapers(false);\r\n    };\r\n\r\n    const addSelected = () => {\r\n        if (checkedDois.length > 0) {\r\n            let dois = [...checkedDois];\r\n            addDois(checkedDois, (data) => {\r\n                    Object.keys(data).forEach((key, index) => {\r\n                        let ind = dois.indexOf(key);\r\n                        if (ind !== -1) {\r\n                            dois.splice(ind, 1);\r\n                        }\r\n                    })\r\n                    setCheckedDois(dois);\r\n                    if (dois.length === 0) {\r\n                        enqueueSnackbar(\"Successfully added all selected.\")\r\n                    } else {\r\n                        enqueueSnackbar(\"Added all dois, except those that remained selected.\");\r\n                    }\r\n                }, fields,\r\n                () => {\r\n                    enqueueSnackbar(\"Failed to add any selected\");\r\n                })\r\n        }\r\n    };\r\n\r\n    const handleOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleChangeFields = (event) => {\r\n        setFields(event.target.value);\r\n    };\r\n\r\n    const changeShowAdvanced = () => {\r\n        setShowAdvanced(!showAdvanced);\r\n    };\r\n\r\n    const body = (\r\n        <div className={classes.paper}>\r\n            <Grid container justify={\"center\"}>\r\n                <FormControl style={{width: window.innerWidth * 0.35}}>\r\n                    <FormControl>\r\n                        <InputLabel htmlFor=\"search-text\">Search</InputLabel>\r\n                        <Input\r\n                            id=\"search-text\"\r\n                            aria-describedby=\"search\"\r\n                            inputProps={{'aria-label': 'search'}}\r\n                            onChange={(event) => {\r\n                                setQueryText(event.target.value)\r\n                            }}\r\n                        />\r\n                    </FormControl>\r\n                    <FormControlLabel control={\r\n                        <Switch checked={showAdvanced} onChange={changeShowAdvanced}/>\r\n                    } label={\"Show Advanced\"}/>\r\n                    <Collapse in={showAdvanced}>\r\n                        <FormControl fullWidth>\r\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                                <Grid container justify=\"space-around\">\r\n                                    <KeyboardDatePicker\r\n                                        disableToolbar\r\n                                        variant=\"inline\"\r\n                                        format=\"MM/dd/yyyy\"\r\n                                        margin=\"normal\"\r\n                                        id=\"date-picker-inline\"\r\n                                        label=\"From date\"\r\n                                        value={fromDate}\r\n                                        onChange={(date) => {\r\n                                            if (date) {\r\n                                                setFromDate(date)\r\n                                                setDate()\r\n                                            }\r\n                                        }}\r\n                                        KeyboardButtonProps={{\r\n                                            'aria-label': 'change date',\r\n                                        }}\r\n                                    />\r\n                                    <KeyboardDatePicker\r\n                                        disableToolbar\r\n                                        variant=\"inline\"\r\n                                        format=\"MM/dd/yyyy\"\r\n                                        margin=\"normal\"\r\n                                        id=\"until-date-picker-inline\"\r\n                                        label=\"Until date\"\r\n                                        value={untilDate}\r\n                                        onChange={(date) => {\r\n                                            if (date) {\r\n                                                setUntilDate(date)\r\n                                                setDate()\r\n                                            }\r\n                                        }}\r\n                                        KeyboardButtonProps={{\r\n                                            'aria-label': 'change date',\r\n                                        }}\r\n                                    />\r\n                                </Grid>\r\n                            </MuiPickersUtilsProvider>\r\n                        </FormControl>\r\n                        <FormControl fullWidth>\r\n                            <InputLabel htmlFor=\"authors-text\">Authors</InputLabel>\r\n                            <Input\r\n                                id=\"authors-text\"\r\n                                aria-describedby=\"authors\"\r\n                                inputProps={{'aria-label': 'search'}}\r\n                                onChange={(event) => {\r\n                                    setQueryField(\"authors\", event.target.value);\r\n                                }}\r\n                            />\r\n                        </FormControl>\r\n                        <FormControl fullWidth>\r\n                            <InputLabel htmlFor=\"affiliations-text\">Affiliations</InputLabel>\r\n                            <Input\r\n                                id=\"affiliations-text\"\r\n                                aria-describedby=\"affiliations\"\r\n                                inputProps={{'aria-label': 'search'}}\r\n                                onChange={(event) => {\r\n                                    setQueryField(\"affiliations\", event.target.value);\r\n                                }}\r\n                            />\r\n                        </FormControl>\r\n                        <FormControl fullWidth>\r\n                            <InputLabel htmlFor=\"title-text\">Title</InputLabel>\r\n                            <Input\r\n                                id=\"title-text\"\r\n                                aria-describedby=\"title\"\r\n                                inputProps={{'aria-label': 'search'}}\r\n                                onChange={(event) => {\r\n                                    setQueryField(\"title\", event.target.value);\r\n                                }}\r\n                            />\r\n                        </FormControl>\r\n                        <FormControl fullWidth>\r\n                            <InputLabel htmlFor=\"references-text\">Reference</InputLabel>\r\n                            <Input\r\n                                id=\"references-text\"\r\n                                aria-describedby=\"references\"\r\n                                inputProps={{'aria-label': 'search'}}\r\n                                onChange={(event) => {\r\n                                    setQueryField(\"references\", event.target.value);\r\n                                }}\r\n                            />\r\n                        </FormControl>\r\n                        {allFields.length > 0 ? <FormControl fullWidth style={{paddingTop: 1}}>\r\n                            <InputLabel shrink id=\"paper-type-label\">Connect to</InputLabel>\r\n                            <Select\r\n                                labelId=\"paper-type-label\"\r\n                                id=\"paper-type\"\r\n                                multiple\r\n                                value={fields}\r\n                                onChange={handleChangeFields}\r\n                                input={<Input/>}\r\n                                renderValue={(selected) => selected.join(', ')}\r\n                            >\r\n                                {allFields.map((name) => (\r\n                                    <MenuItem key={name} value={name}>\r\n                                        <Checkbox checked={fields.indexOf(name) > -1}/>\r\n                                        <ListItemText primary={name}/>\r\n                                    </MenuItem>\r\n                                ))}\r\n                            </Select>\r\n                        </FormControl> : null}\r\n                    </Collapse>\r\n                    <FormControl>\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={searchPapers}>Search</Button>\r\n                    </FormControl>\r\n                </FormControl>\r\n            </Grid>\r\n            <GridVisualisation data={papers} checkedDois={checkedDois} setCheckedDois={setCheckedDois}/>\r\n            <Grid container justify={\"flex-end\"} spacing={2}>\r\n                {\r\n                    checkedDois.length > 0 ? <Grid item>\r\n                        <Button\r\n                            variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={addSelected}\r\n                        >\r\n                            Add Selected\r\n                        </Button>\r\n                    </Grid> : null\r\n                }\r\n                <Grid item>\r\n                    <Button\r\n                        variant=\"outlined\"\r\n                        onClick={getMorePapers}\r\n                    >\r\n                        More\r\n                    </Button>\r\n                </Grid>\r\n            </Grid>\r\n        </div>\r\n    );\r\n\r\n    return (\r\n        <>\r\n            <Tooltip title=\"Search Papers\" arrow TransitionComponent={Fade}>\r\n                <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\"\r\n                            onClick={handleOpen}>\r\n                    <SearchIcon/>\r\n                </IconButton>\r\n            </Tooltip>\r\n            <Modal\r\n                open={open}\r\n                onClose={handleClose}\r\n                aria-labelledby=\"search-graph-data\"\r\n                aria-describedby=\"search-graph-data-description\"\r\n                className={classes.modal}\r\n            >\r\n                {body}\r\n            </Modal>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default SearchPapersModal;\r\n","import React, {useEffect, useState} from 'react';\r\nimport data from '../marvel/data';\r\nimport WidgetBot from \"@widgetbot/react-embed\";\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    AppBar, Toolbar, Tabs,\r\n    IconButton, Tab, Box, Typography\r\n} from \"@material-ui/core\";\r\nimport {\r\n    List, ListItem, Paper,\r\n    Tooltip, Fade\r\n} from \"@material-ui/core\";\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport MainRouteIcon from \"../icons/MainRouteIcon\";\r\nimport GraphViewIcon from \"../icons/GraphViewIcon\";\r\nimport AccountIcon from \"../icons/AccountIcon\";\r\nimport GraphVisualisation from \"../visualisations/GraphVisualisation\";\r\nimport TableVisualisation from \"../visualisations/TableVisualisation\";\r\nimport {fetchGraphData, filterByRules} from \"../res/data\";\r\nimport FilterDataModal from \"../modals/FilterDataModal\";\r\nimport SearchPapersModal from \"../modals/SearchPapersModal\";\r\nimport ReactCursorPosition, {INTERACTIONS} from 'react-cursor-position';\r\n\r\nfunction TabPanel(props) {\r\n    const {children, value, index, ...other} = props;\r\n\r\n    return (\r\n        <div\r\n            role=\"tabpanel\"\r\n            hidden={value !== index}\r\n            id={`scrollable-auto-tabpanel-${index}`}\r\n            aria-labelledby={`scrollable-auto-tab-${index}`}\r\n            {...other}\r\n        >\r\n            {value === index && (\r\n                <Box>\r\n                    {children}\r\n                </Box>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nTabPanel.propTypes = {\r\n    children: PropTypes.node,\r\n    index: PropTypes.any.isRequired,\r\n    value: PropTypes.any.isRequired,\r\n};\r\n\r\nfunction a11yProps(index) {\r\n    return {\r\n        id: `scrollable-auto-tab-${index}`,\r\n        'aria-controls': `scrollable-auto-tabpanel-${index}`,\r\n    };\r\n}\r\n\r\n\r\nfunction ViewKeywords(props) {\r\n    const space_id = decodeURI(window.location.href).split('/s/')[1];\r\n    const [allData, setAllData] = useState(data);\r\n    const [myData, setData] = useState(data);\r\n    const [graphWidth, setGraphWidth] = useState(window.innerWidth / 3 * 2);\r\n\r\n    const [tabValue, setTabValue] = useState(0);\r\n\r\n    const [graphViewValue, setGraphViewValue] = useState(0);\r\n\r\n    const handleChange = (event, newValue) => {\r\n        setTabValue(newValue);\r\n    };\r\n\r\n    const setGraphData = (data) => {\r\n        setData(data);\r\n        setAllData(data);\r\n    };\r\n\r\n    const filterGraphData = (rules) => {\r\n        let result = filterByRules(\r\n            JSON.parse(JSON.stringify(allData))\r\n            , rules);\r\n        setData(result);\r\n    };\r\n\r\n    useEffect(() => {\r\n        fetchGraphData(space_id, setGraphData)\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            <div style={{display: \"flex\"}}>\r\n                <AppBar\r\n                    position=\"static\"\r\n                    color=\"default\"\r\n                    style={{width: graphWidth}}>\r\n                    <Toolbar variant=\"dense\">\r\n                        <MainRouteIcon home/>\r\n                        <GraphViewIcon value={graphViewValue} setValue={setGraphViewValue}/>\r\n                        <div style={styles.rightGraphToolbar}>\r\n                            <FilterDataModal\r\n                                data={myData}\r\n                                setFilterRules={filterGraphData}\r\n                                allData={allData}\r\n                            />\r\n                            <SearchPapersModal\r\n                                data={myData}\r\n                                allData={allData}\r\n                            />\r\n                            <Tooltip title=\"Add\" arrow TransitionComponent={Fade}>\r\n                                <IconButton edge=\"start\" color=\"inherit\" aria-label=\"menu\">\r\n                                    <AddCircleOutlineIcon/>\r\n                                </IconButton>\r\n                            </Tooltip>\r\n                        </div>\r\n                        <AccountIcon/>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <AppBar\r\n                    position=\"static\"\r\n                    color=\"default\"\r\n                    style={{width: window.innerWidth - graphWidth}}>\r\n                    <Tabs\r\n                        value={tabValue}\r\n                        onChange={handleChange}\r\n                        indicatorColor=\"primary\"\r\n                        textColor=\"primary\"\r\n                        variant=\"scrollable\"\r\n                        scrollButtons=\"auto\"\r\n                    >\r\n                        <Tab label={\"Info\"} {...a11yProps(0)} />\r\n                        <Tab label=\"Discord\" {...a11yProps(1)} />\r\n                        <Tab label=\"Item Three\" {...a11yProps(2)} />\r\n                        <Tab label=\"Item Four\" {...a11yProps(3)} />\r\n                        <Tab label=\"Item Five\" {...a11yProps(4)} />\r\n                        <Tab label=\"Item Six\" {...a11yProps(5)} />\r\n                        <Tab label=\"Item Seven\" {...a11yProps(6)} />\r\n                    </Tabs>\r\n                </AppBar>\r\n            </div>\r\n            <div style={{display: \"flex\"}}>\r\n                {graphViewValue === 1 ? <TableVisualisation\r\n                        data={myData}\r\n                        width={graphWidth}\r\n                    /> :\r\n                    graphViewValue === 2 ? <Typography>Chart</Typography> :\r\n                        <ReactCursorPosition\r\n                            activationInteractionMouse={INTERACTIONS.HOVER} //default\r\n                            hoverDelayInMs={250} //default: 0\r\n                            hoverOffDelayInMs={150} //default: 0>\r\n                        >\r\n                            <GraphVisualisation\r\n                                data={myData}\r\n                                width={graphWidth}\r\n                            />\r\n                        </ReactCursorPosition>}\r\n                <div>\r\n                    <TabPanel index={0} value={tabValue}>\r\n                        <Paper style={{overflow: \"auto\", maxHeight: window.innerHeight}}>\r\n                            <Typography>IDs</Typography>\r\n                            <List style={{overflow: \"auto\"}}>\r\n                                {myData[\"nodes\"].map((item, i) => (\r\n                                    <ListItem>\r\n                                        <Typography>{item[\"id\"]}</Typography>\r\n                                    </ListItem>\r\n                                ))}\r\n                            </List>\r\n                        </Paper>\r\n                    </TabPanel>\r\n                    <TabPanel index={1} value={tabValue}>\r\n                        <WidgetBot\r\n                            server=\"717755444646379600\"\r\n                            channel=\"717835175635058816\"\r\n                            shard=\"https://e.widgetbot.io\"\r\n                            width={window.innerWidth - graphWidth}\r\n                            height={window.innerHeight}\r\n                        />\r\n                    </TabPanel>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nconst styles = {\r\n    rightGraphToolbar: {\r\n        marginLeft: 'auto'\r\n    }\r\n};\r\n\r\nexport default ViewKeywords;\r\n","import React from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route\r\n} from \"react-router-dom\";\r\nimport './App.css';\r\nimport PresentationPage from \"./components/pages/PresentationPage\";\r\nimport Home from \"./components/pages/Home\";\r\nimport ModalSearch from \"./components/pages/SearchModal\";\r\nimport ViewKeywords from \"./components/pages/Visualize\";\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport {\r\n    AppBar, Toolbar, Typography,\r\n} from '@material-ui/core';\r\nimport MainRouteIcon from \"./components/icons/MainRouteIcon\";\r\nimport AccountIcon from \"./components/icons/AccountIcon\";\r\nimport {SnackbarProvider} from 'notistack';\r\n\r\nfunction App() {\r\n    const classes = useStyles();\r\n\r\n    const getMainAppBar = () => (\r\n        <AppBar\r\n            position=\"static\"\r\n            color=\"default\"\r\n        >\r\n            <Toolbar variant=\"dense\">\r\n                <MainRouteIcon/>\r\n                <Typography variant=\"h6\" className={classes.title}>\r\n                    BioSpace\r\n                </Typography>\r\n                <Switch>\r\n                    <Route path=\"/home\">\r\n                        <ModalSearch/>\r\n                    </Route>\r\n                </Switch>\r\n                <AccountIcon/>\r\n            </Toolbar>\r\n        </AppBar>\r\n    );\r\n\r\n    return (\r\n        <SnackbarProvider maxSnack={3}>\r\n            <Router>\r\n                <div className=\"App\">\r\n                    <Switch>\r\n                        <Route path=\"/home\">\r\n                            {getMainAppBar()}\r\n                            <Home/>\r\n                        </Route>\r\n                        <Route path=\"/s\">\r\n                            <ViewKeywords/>\r\n                        </Route>\r\n                        <Route path=\"/\">\r\n                            {getMainAppBar()}\r\n                            <PresentationPage/>\r\n                        </Route>\r\n                    </Switch>\r\n                </div>\r\n            </Router>\r\n        </SnackbarProvider>\r\n    );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        flexGrow: 1,\r\n    },\r\n    menuButton: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n}));\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}