(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{138:function(e,a,t){e.exports=t(229)},143:function(e,a,t){},144:function(e,a,t){e.exports=t.p+"static/media/logo.ee7cd8ed.svg"},145:function(e,a,t){},229:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(14),l=t.n(o),c=(t(143),t(17)),i=t(36),s=t(15);t(144),t(145);var m=function(e){return localStorage.getItem("loggedIn")?r.a.createElement(s.b,{render:function(e){return r.a.createElement(s.a,{to:{pathname:"/home",state:{from:e.location}}})}}):r.a.createElement("div",{className:"Home"},r.a.createElement("p",null,"Welcome to BioSpace!"))},u=function(e){return"/"+e};var d=t(265),h=t(268),g=t(230),p=t(282),f=t(269);var v={list:{display:"flex",flexDirection:"row",padding:0,marginTop:30,marginLeft:5,marginRight:5}},E=function(){var e=Object(n.useState)([]),a=Object(c.a)(e,2),t=a[0],o=a[1],l=Object(n.useState)([]),i=Object(c.a)(l,2),m=i[0],E=i[1];function b(e,a){!function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"post";fetch(u(e),{method:r,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(a)}).then((function(e){return e.json()})).then((function(e){t(e)})).catch((function(e){n&&n(e)}))}("get_spaces",{by:e},(function(e){e=Object.keys(e).map((function(a){return e[a]})),a(e)}))}function y(e,a,t){return e.length?r.a.createElement("div",null,r.a.createElement(d.a,null,a),r.a.createElement(h.a,{style:v.list},e.sort((function(e,a){return e[t]<a[t]?1:-1})).map((function(e,a){return r.a.createElement(g.a,null,r.a.createElement(p.a,{width:200,style:{textAlign:"center"},border:1},r.a.createElement(d.a,null,e.id," - id"),r.a.createElement(d.a,null,e.keys," - keywords"),r.a.createElement(d.a,null,e[t]," - ",t),r.a.createElement(s.b,{render:function(a){var t=a.history;return r.a.createElement(f.a,{onClick:function(){t.push("/s/"+e.id)}},"Open")}})))})))):null}return Object(n.useEffect)((function(){b("popularity",E),b("accessed",o)}),[]),r.a.createElement("div",{className:"Home"},y(m,"Popular","popularity"),y(t,"Recent","accessed"))},b=t(270),y=t(285),_=t(287),w=t(283),j=t(281),k=t(108),S=t.n(k),O=t(109),C=t.n(O),I=r.a.createElement(S.a,{fontSize:"small"}),z=r.a.createElement(C.a,{fontSize:"small"}),T=Object(b.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var x=function(e){var a=e.closed,t=void 0===a||a,o=T(),l=r.a.useState(!t),i=Object(c.a)(l,2),m=i[0],d=i[1],h=r.a.useState([]),g=Object(c.a)(h,2),p=g[0],v=g[1],E=r.a.useState([]),b=Object(c.a)(E,2),k=b[0],S=b[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("keywordsList")||"[]");e.length||(e=fetch(u("graph/keywords")).then((function(e){return e.json()})).then((function(a){localStorage.setItem("keywordsDict",JSON.stringify(a.info));var t=Array();for(var n in a.info)t.push({key:n,count:a.info[n]});e=t,localStorage.setItem("keywordsList",JSON.stringify(t))})).catch(console.log)),e=(e=e.sort((function(e,a){return e.count<a.count?1:-1}))).slice(0,1e3),S(e)}),[]);var O=r.a.createElement("div",{className:o.paper},r.a.createElement("p",{id:"simple-modal-description"},"Pick keywords"),r.a.createElement(j.a,{multiple:!0,id:"keywords-select",options:k,disableCloseOnSelect:!0,getOptionLabel:function(e){return e.key},renderOption:function(e,a){var t=a.selected;return r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,{icon:I,checkedIcon:z,style:{marginRight:8},checked:t}),e.key)},style:{width:500},renderInput:function(e){return r.a.createElement(w.a,Object.assign({},e,{variant:"outlined",label:"Keywords",placeholder:"Bio"}))},onChange:function(e,a){v(a.map((function(e){return e.key})).sort())}}),r.a.createElement(s.b,{render:function(e){var a=e.history;return r.a.createElement(f.a,{onClick:function(){var e=p.join(",");!function(e){var a=e.history,t=e.searchString;fetch(u("space"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({keys:t})}).then((function(e){return e.json()})).then((function(e){e.id&&a.push("/s/"+e.id)}))}({history:a,searchString:e})}},"Search")}}));return r.a.createElement("div",null,r.a.createElement(f.a,{onClick:function(){d(!0)}},"Search"),r.a.createElement(y.a,{open:m,onClose:function(){d(!1)},"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",className:o.modal},O))},H=t(274),N=t(275),A=t(288),M=t(273),R=Object(b.a)((function(e){return{paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,10,3)},modal:{display:"flex",alignItems:"center",justifyContent:"center"}}}));var B=function(e){var a=e.closed,t=void 0===a||a,n=localStorage.getItem("loggedIn"),o=R(),l=r.a.useState(!t),i=Object(c.a)(l,2),m=i[0],d=i[1],h=r.a.useState(!0),g=Object(c.a)(h,2),p=g[0],v=g[1],E=r.a.useState(""),b=Object(c.a)(E,2),_=b[0],w=b[1],j=r.a.useState(""),k=Object(c.a)(j,2),S=k[0],O=k[1],C=r.a.useState(""),I=Object(c.a)(C,2),z=I[0],T=I[1],x=r.a.createElement("div",{className:o.paper},r.a.createElement(H.a,null,r.a.createElement(N.a,null,"Are you sure you want to logout?"),r.a.createElement(s.b,{render:function(e){var a=e.history;return r.a.createElement(f.a,{onClick:function(){localStorage.removeItem("loggedIn"),d(!1),a.push("/")}},"Yes")}}))),B=r.a.createElement("div",{className:o.paper},r.a.createElement(H.a,null,r.a.createElement(H.a,null,r.a.createElement(A.a,{htmlFor:"email"},"Email address"),r.a.createElement(M.a,{id:"email",type:"email","aria-describedby":"Enter institution email address",onChange:function(e){w(e.target.value)}})),r.a.createElement(H.a,null,r.a.createElement(A.a,{htmlFor:"pass"},"Password"),r.a.createElement(M.a,{id:"pass",type:"password","aria-describedby":"Enter password",onChange:function(e){O(e.target.value)}})),p?null:r.a.createElement(H.a,null,r.a.createElement(A.a,{htmlFor:"name"},"Full name"),r.a.createElement(M.a,{id:"name","aria-describedby":"Enter full name",onChange:function(e){T(e.target.value)}})),r.a.createElement(H.a,null,r.a.createElement(N.a,{onClick:function(){v(!p)}},p?"Don't have an account? Click here to register..":"I have an account, click here to login..")),r.a.createElement(H.a,null,r.a.createElement(f.a,{onClick:p?function(){fetch(u("users/login"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:_,password:S})}).then((function(e){return e.json()})).then((function(e){e.email===_&&(localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("loggedIn","true"),d(!1))}))}:function(){fetch(u("users/register"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:_,password:S,name:z})}).then((function(e){return e.json()})).then((function(e){e.email===_&&(localStorage.setItem("userInfo",JSON.stringify(e)),localStorage.setItem("loggedIn","true"),d(!1))}))}},p?"Login":"Register"))));return r.a.createElement("div",null,r.a.createElement("text",{onClick:function(){d(!0)}},n?"Logout":"Login"),r.a.createElement(y.a,{open:m,onClose:function(){d(!1)},"aria-labelledby":"login-modal-title","aria-describedby":"login-modal-description",className:o.modal},n?x:B))},D=t(122),J=t(120),F={links:[{source:"Marvel",target:"Heroes"},{source:"Marvel",target:"Villains"},{source:"Marvel",target:"Teams"},{source:"Heroes",target:"Spider-Man"},{source:"Heroes",target:"CAPTAIN MARVEL"},{source:"Heroes",target:"HULK"},{source:"Heroes",target:"Black Widow"},{source:"Heroes",target:"Daredevil"},{source:"Heroes",target:"Wolverine"},{source:"Heroes",target:"Captain America"},{source:"Heroes",target:"Iron Man"},{source:"Heroes",target:"THOR"},{source:"Villains",target:"Dr. Doom"},{source:"Villains",target:"Mystique"},{source:"Villains",target:"Red Skull"},{source:"Villains",target:"Ronan"},{source:"Villains",target:"Magneto"},{source:"Villains",target:"Thanos"},{source:"Villains",target:"Black Cat"},{source:"Teams",target:"Avengers"},{source:"Teams",target:"Guardians of the Galaxy"},{source:"Teams",target:"Defenders"},{source:"Teams",target:"X-Men"},{source:"Teams",target:"Fantastic Four"},{source:"Teams",target:"Inhumans"}],nodes:[{id:"Marvel",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/marvel.png",size:500,fontSize:18},{id:"Heroes",symbolType:"circle",color:"red",size:300},{id:"Villains",symbolType:"circle",color:"red",size:300},{id:"Teams",symbolType:"circle",color:"red",size:300},{id:"Spider-Man",name:"Peter Benjamin Parker",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_spiderman.png",size:400},{id:"CAPTAIN MARVEL",name:"Carol Danvers",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainmarvel.png",size:400},{id:"HULK",name:"Robert Bruce Banner",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_hulk.png",size:400},{id:"Black Widow",name:"Natasha Alianovna Romanova",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_blackwidow.png",size:400},{id:"Daredevil",name:"Matthew Michael Murdock",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_daredevil.png",size:400},{id:"Wolverine",name:"James Howlett",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_wolverine.png",size:400},{id:"Captain America",name:"Steven Rogers",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_captainamerica.png",size:400},{id:"Iron Man",name:"Tony Stark",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_ironman.png",size:400},{id:"THOR",name:"Thor Odinson",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/top_thor.png",size:400},{id:"Dr. Doom",name:"Victor von Doom",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/drdoom.png",size:400},{id:"Mystique",name:"Unrevealed",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/mystique.png",size:400},{id:"Red Skull",name:"Johann Shmidt",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/redskull.png",size:400},{id:"Ronan",name:"Ronan",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/ronan.png",size:400},{id:"Magneto",name:"Max Eisenhardt",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/magneto.png",size:400},{id:"Thanos",name:"Thanos",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/thanos.png",size:400},{id:"Black Cat",name:"Felicia Hardy",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/blackcat.png",size:400},{id:"Avengers",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/avengers.png",size:400},{id:"Guardians of the Galaxy",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/gofgalaxy.png",size:400},{id:"Defenders",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/defenders.png",size:400},{id:"X-Men",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/xmen.png",size:400},{id:"Fantastic Four",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/fantasticfour.png",size:400},{id:"Inhumans",name:"",svg:"http://marvel-force-chart.surge.sh/marvel_force_chart_img/inhumans.png",size:400}]},V=t(119),L=t.n(V),W=t(277),P=t(278),G=t(272),U=t(284),q=t(279),K=t(231),X=t(73),Y=t.n(X);function $(e){var a=e.children,t=e.value,n=e.index,o=Object(D.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},o),t===n&&r.a.createElement(p.a,null,a))}function Q(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Z=function(e){var a=decodeURI(window.location.href).split("/s/")[1],t=Object(n.useState)(F),o=Object(c.a)(t,2),l=o[0],i=o[1],s=Object(n.useState)(window.innerWidth/3*2-10),m=Object(c.a)(s,2),p=m[0],f=(m[1],Object(n.useState)(0)),v=Object(c.a)(f,2),E=v[0],b=v[1];return Object(n.useEffect)((function(){fetch(u("space"),{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({id:a})}).then((function(e){return e.json()})).then((function(e){var a=e.keys;e.id&&fetch(u("graph/sub?keys=")+a).then((function(e){return e.json()})).then((function(e){e=e.info;var a=Array();for(var t in e.nodes){var n=e.nodes[t];n.name=n.id,a.push(n)}var r=Array();for(var o in e.relationships)for(var l in e.relationships[o])r.push({source:l,target:o,type:e.relationships[o][l]});i({links:r,nodes:a})})).catch(console.log)}))}),[]),r.a.createElement("div",null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(W.a,{position:"static",color:"default",style:{width:p}},r.a.createElement(P.a,{variant:"dense"},r.a.createElement(G.a,{edge:"start",color:"inherit","aria-label":"menu"},r.a.createElement(Y.a,null)))),r.a.createElement(W.a,{position:"static",color:"default",style:{width:window.innerWidth-p}},r.a.createElement(U.a,{value:E,onChange:function(e,a){b(a)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto"},r.a.createElement(q.a,Object.assign({label:"Item One"},Q(0))),r.a.createElement(q.a,Object.assign({label:"Item Two"},Q(1))),r.a.createElement(q.a,Object.assign({label:"Item Three"},Q(2))),r.a.createElement(q.a,Object.assign({label:"Item Four"},Q(3))),r.a.createElement(q.a,Object.assign({label:"Item Five"},Q(4))),r.a.createElement(q.a,Object.assign({label:"Item Six"},Q(5))),r.a.createElement(q.a,Object.assign({label:"Item Seven"},Q(6)))))),r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(J.a,{graphData:l,linkWidth:2,width:p}),r.a.createElement("div",null,r.a.createElement($,{index:0,value:E},r.a.createElement(L.a,{server:"717755444646379600",channel:"717835175635058816",shard:"https://e.widgetbot.io",width:window.innerWidth-p,height:window.innerHeight})),r.a.createElement($,{index:1,value:E},r.a.createElement(K.a,{style:{overflow:"auto",maxHeight:window.innerHeight}},r.a.createElement(d.a,null,"IDs"),r.a.createElement(h.a,{style:{overflow:"auto"}},l.nodes.map((function(e,a){return r.a.createElement(g.a,null,r.a.createElement(d.a,null,e.id))}))))))))},ee=t(121),ae=t(280);var te=Object(b.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(1)},title:{flexGrow:1}}})),ne=function(){var e=te(),a=r.a.useState(null),t=Object(c.a)(a,2),n=t[0],o=t[1],l=function(){o(null)};return r.a.createElement(i.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(W.a,{position:"static",color:"default"},r.a.createElement(P.a,null,r.a.createElement(G.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu","aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)}},r.a.createElement(Y.a,null)),r.a.createElement(ee.a,{id:"simple-menu",anchorEl:n,keepMounted:!0,open:Boolean(n),onClose:l},r.a.createElement(ae.a,{onClick:l},r.a.createElement(i.b,{to:"/"},"Root")),r.a.createElement(ae.a,{onClick:l},r.a.createElement(i.b,{to:"/home"},"Home")),r.a.createElement(ae.a,{onClick:l},r.a.createElement(B,null))),r.a.createElement(d.a,{variant:"h6",className:e.title},"BioSpace"),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/home"},r.a.createElement(x,null))))),r.a.createElement(s.d,null,r.a.createElement(s.b,{path:"/home"},r.a.createElement(E,null)),r.a.createElement(s.b,{path:"/s"},r.a.createElement(Z,null)),r.a.createElement(s.b,{path:"/"},r.a.createElement(m,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[138,1,2]]]);
//# sourceMappingURL=main.59612045.chunk.js.map